//! moment.js
//! version : 2.11.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return za.apply(null,arguments)}function e(t){za=t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var a,s=[];for(a=0;a<t.length;++a)s.push(e(t[a],a));return s}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var a in e)n(e,a)&&(t[a]=e[a]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,a,s){return Mt(t,e,a,s,!0).utc()}function o(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=o()),t._pf}function u(t){if(null==t._isValid){var e=l(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function m(t){var e=c(NaN);return null!=t?r(l(e),t):l(e).userInvalidated=!0,e}function h(t){return void 0===t}function d(t,e){var a,s,i;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=l(e)),h(e._locale)||(t._locale=e._locale),Ja.length>0)for(a in Ja)s=Ja[a],i=e[s],h(i)||(t[s]=i);return t}function f(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Za===!1&&(Za=!0,t.updateOffset(this),Za=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function _(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,a=0;return 0!==e&&isFinite(e)&&(a=_(e)),a}function y(t,e,a){var s,i=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),r=0;for(s=0;i>s;s++)(a&&t[s]!==e[s]||!a&&g(t[s])!==g(e[s]))&&r++;return r+n}function v(){}function E(t){return t?t.toLowerCase().replace("_","-"):t}function R(t){for(var e,a,s,i,n=0;n<t.length;){for(i=E(t[n]).split("-"),e=i.length,a=E(t[n+1]),a=a?a.split("-"):null;e>0;){if(s=S(i.slice(0,e).join("-")))return s;if(a&&a.length>=e&&y(i,a,!0)>=e-1)break;e--}n++}return null}function S(t){var e=null;if(!Xa[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ba._abbr,require("./locale/"+t),C(e)}catch(a){}return Xa[t]}function C(t,e){var a;return t&&(a=h(e)?Y(t):N(t,e),a&&(Ba=a)),Ba._abbr}function N(t,e){return null!==e?(e.abbr=t,Xa[t]=Xa[t]||new v,Xa[t].set(e),C(t),Xa[t]):(delete Xa[t],null)}function Y(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ba;if(!a(t)){if(e=S(t))return e;t=[t]}return R(t)}function D(t,e){var a=t.toLowerCase();qa[a]=qa[a+"s"]=qa[e]=t}function b(t){return"string"==typeof t?qa[t]||qa[t.toLowerCase()]:void 0}function w(t){var e,a,s={};for(a in t)n(t,a)&&(e=b(a),e&&(s[e]=t[a]));return s}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function F(e,a){return function(s){return null!=s?(k(this,e,s),t.updateOffset(this,a),this):A(this,e)}}function A(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function k(t,e,a){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](a)}function x(t,e){var a;if("object"==typeof t)for(a in t)this.set(a,t[a]);else if(t=b(t),M(this[t]))return this[t](e);return this}function P(t,e,a){var s=""+Math.abs(t),i=e-s.length,n=t>=0;return(n?a?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function U(t,e,a,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),t&&(es[t]=i),e&&(es[e[0]]=function(){return P(i.apply(this,arguments),e[1],e[2])}),a&&(es[a]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function T(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t){var e,a,s=t.match(Qa);for(e=0,a=s.length;a>e;e++)es[s[e]]?s[e]=es[s[e]]:s[e]=T(s[e]);return function(i){var n="";for(e=0;a>e;e++)n+=s[e]instanceof Function?s[e].call(i,t):s[e];return n}}function I(t,e){return t.isValid()?(e=W(e,t.localeData()),ts[e]=ts[e]||O(e),ts[e](t)):t.localeData().invalidDate()}function W(t,e){function a(t){return e.longDateFormat(t)||t}var s=5;for(Ka.lastIndex=0;s>=0&&Ka.test(t);)t=t.replace(Ka,a),Ka.lastIndex=0,s-=1;return t}function $(t,e,a){vs[t]=M(e)?e:function(t){return t&&a?a:e}}function G(t,e){return n(vs,t)?vs[t](e._strict,e._locale):new RegExp(j(t))}function j(t){return L(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,a,s,i){return e||a||s||i}))}function L(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(t,e){var a,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,a){a[e]=g(t)}),a=0;a<t.length;a++)Es[t[a]]=s}function V(t,e){H(t,function(t,a,s,i){s._w=s._w||{},e(t,s._w,s,i)})}function z(t,e,a){null!=e&&n(Es,t)&&Es[t](e,a._a,a,t)}function B(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function J(t,e){return a(this._months)?this._months[t.month()]:this._months[Fs.test(e)?"format":"standalone"][t.month()]}function Z(t,e){return a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Fs.test(e)?"format":"standalone"][t.month()]}function X(t,e,a){var s,i,n;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(i=c([2e3,s]),a&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),a||this._monthsParse[s]||(n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),a&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(a&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!a&&this._monthsParse[s].test(t))return s}}function q(t,e){var a;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(a=Math.min(t.date(),B(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,a),t):t}function Q(e){return null!=e?(q(this,e),t.updateOffset(this,!0),this):A(this,"Month")}function K(){return B(this.year(),this.month())}function tt(t){return this._monthsParseExact?(n(this,"_monthsRegex")||at.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function et(t){return this._monthsParseExact?(n(this,"_monthsRegex")||at.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function at(){function t(t,e){return e.length-t.length}var e,a,s=[],i=[],n=[];for(e=0;12>e;e++)a=c([2e3,e]),s.push(this.monthsShort(a,"")),i.push(this.months(a,"")),n.push(this.months(a,"")),n.push(this.monthsShort(a,""));for(s.sort(t),i.sort(t),n.sort(t),e=0;12>e;e++)s[e]=L(s[e]),i[e]=L(i[e]),n[e]=L(n[e]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")$","i")}function st(t){var e,a=t._a;return a&&-2===l(t).overflow&&(e=a[Ss]<0||a[Ss]>11?Ss:a[Cs]<1||a[Cs]>B(a[Rs],a[Ss])?Cs:a[Ns]<0||a[Ns]>24||24===a[Ns]&&(0!==a[Ys]||0!==a[Ds]||0!==a[bs])?Ns:a[Ys]<0||a[Ys]>59?Ys:a[Ds]<0||a[Ds]>59?Ds:a[bs]<0||a[bs]>999?bs:-1,l(t)._overflowDayOfYear&&(Rs>e||e>Cs)&&(e=Cs),l(t)._overflowWeeks&&-1===e&&(e=ws),l(t)._overflowWeekday&&-1===e&&(e=Ms),l(t).overflow=e),t}function it(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function nt(t,e){var a=!0;return r(function(){return a&&(it(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),a=!1),e.apply(this,arguments)},e)}function rt(t,e){Us[t]||(it(e),Us[t]=!0)}function ct(t){var e,a,s,i,n,r,c=t._i,o=Ts.exec(c)||Os.exec(c);if(o){for(l(t).iso=!0,e=0,a=Ws.length;a>e;e++)if(Ws[e][1].exec(o[1])){i=Ws[e][0],s=Ws[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(o[3]){for(e=0,a=$s.length;a>e;e++)if($s[e][1].exec(o[3])){n=(o[2]||" ")+$s[e][0];break}if(null==n)return void(t._isValid=!1)}if(!s&&null!=n)return void(t._isValid=!1);if(o[4]){if(!Is.exec(o[4]))return void(t._isValid=!1);r="Z"}t._f=i+(n||"")+(r||""),St(t)}else t._isValid=!1}function ot(e){var a=Gs.exec(e._i);return null!==a?void(e._d=new Date(+a[1])):(ct(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function lt(t,e,a,s,i,n,r){var c=new Date(t,e,a,s,i,n,r);return 100>t&&t>=0&&isFinite(c.getFullYear())&&c.setFullYear(t),c}function ut(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function mt(t){return ht(t)?366:365}function ht(t){return t%4===0&&t%100!==0||t%400===0}function dt(){return ht(this.year())}function ft(t,e,a){var s=7+e-a,i=(7+ut(t,0,s).getUTCDay()-e)%7;return-i+s-1}function pt(t,e,a,s,i){var n,r,c=(7+a-s)%7,o=ft(t,s,i),l=1+7*(e-1)+c+o;return 0>=l?(n=t-1,r=mt(n)+l):l>mt(t)?(n=t+1,r=l-mt(t)):(n=t,r=l),{year:n,dayOfYear:r}}function _t(t,e,a){var s,i,n=ft(t.year(),e,a),r=Math.floor((t.dayOfYear()-n-1)/7)+1;return 1>r?(i=t.year()-1,s=r+gt(i,e,a)):r>gt(t.year(),e,a)?(s=r-gt(t.year(),e,a),i=t.year()+1):(i=t.year(),s=r),{week:s,year:i}}function gt(t,e,a){var s=ft(t,e,a),i=ft(t+1,e,a);return(mt(t)-s+i)/7}function yt(t,e,a){return null!=t?t:null!=e?e:a}function vt(e){var a=new Date(t.now());return e._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Et(t){var e,a,s,i,n=[];if(!t._d){for(s=vt(t),t._w&&null==t._a[Cs]&&null==t._a[Ss]&&Rt(t),t._dayOfYear&&(i=yt(t._a[Rs],s[Rs]),t._dayOfYear>mt(i)&&(l(t)._overflowDayOfYear=!0),a=ut(i,0,t._dayOfYear),t._a[Ss]=a.getUTCMonth(),t._a[Cs]=a.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ns]&&0===t._a[Ys]&&0===t._a[Ds]&&0===t._a[bs]&&(t._nextDay=!0,t._a[Ns]=0),t._d=(t._useUTC?ut:lt).apply(null,n),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ns]=24)}}function Rt(t){var e,a,s,i,n,r,c,o;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(n=1,r=4,a=yt(e.GG,t._a[Rs],_t(Ft(),1,4).year),s=yt(e.W,1),i=yt(e.E,1),(1>i||i>7)&&(o=!0)):(n=t._locale._week.dow,r=t._locale._week.doy,a=yt(e.gg,t._a[Rs],_t(Ft(),n,r).year),s=yt(e.w,1),null!=e.d?(i=e.d,(0>i||i>6)&&(o=!0)):null!=e.e?(i=e.e+n,(e.e<0||e.e>6)&&(o=!0)):i=n),1>s||s>gt(a,n,r)?l(t)._overflowWeeks=!0:null!=o?l(t)._overflowWeekday=!0:(c=pt(a,s,i,n,r),t._a[Rs]=c.year,t._dayOfYear=c.dayOfYear)}function St(e){if(e._f===t.ISO_8601)return void ct(e);e._a=[],l(e).empty=!0;var a,s,i,n,r,c=""+e._i,o=c.length,u=0;for(i=W(e._f,e._locale).match(Qa)||[],a=0;a<i.length;a++)n=i[a],s=(c.match(G(n,e))||[])[0],s&&(r=c.substr(0,c.indexOf(s)),r.length>0&&l(e).unusedInput.push(r),c=c.slice(c.indexOf(s)+s.length),u+=s.length),es[n]?(s?l(e).empty=!1:l(e).unusedTokens.push(n),z(n,s,e)):e._strict&&!s&&l(e).unusedTokens.push(n);l(e).charsLeftOver=o-u,c.length>0&&l(e).unusedInput.push(c),l(e).bigHour===!0&&e._a[Ns]<=12&&e._a[Ns]>0&&(l(e).bigHour=void 0),e._a[Ns]=Ct(e._locale,e._a[Ns],e._meridiem),Et(e),st(e)}function Ct(t,e,a){var s;return null==a?e:null!=t.meridiemHour?t.meridiemHour(e,a):null!=t.isPM?(s=t.isPM(a),s&&12>e&&(e+=12),s||12!==e||(e=0),e):e}function Nt(t){var e,a,s,i,n;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)n=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],St(e),u(e)&&(n+=l(e).charsLeftOver,n+=10*l(e).unusedTokens.length,l(e).score=n,(null==s||s>n)&&(s=n,a=e));r(t,a||e)}function Yt(t){if(!t._d){var e=w(t._i);t._a=i([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Et(t)}}function Dt(t){var e=new f(st(bt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function bt(t){var e=t._i,i=t._f;return t._locale=t._locale||Y(t._l),null===e||void 0===i&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),p(e)?new f(st(e)):(a(i)?Nt(t):i?St(t):s(e)?t._d=e:wt(t),u(t)||(t._d=null),t))}function wt(e){var n=e._i;void 0===n?e._d=new Date(t.now()):s(n)?e._d=new Date(+n):"string"==typeof n?ot(e):a(n)?(e._a=i(n.slice(0),function(t){return parseInt(t,10)}),Et(e)):"object"==typeof n?Yt(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function Mt(t,e,a,s,i){var n={};return"boolean"==typeof a&&(s=a,a=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=i,n._l=a,n._i=t,n._f=e,n._strict=s,Dt(n)}function Ft(t,e,a,s){return Mt(t,e,a,s,!1)}function At(t,e){var s,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Ft();for(s=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](s)||(s=e[i]);return s}function kt(){var t=[].slice.call(arguments,0);return At("isBefore",t)}function xt(){var t=[].slice.call(arguments,0);return At("isAfter",t)}function Pt(t){var e=w(t),a=e.year||0,s=e.quarter||0,i=e.month||0,n=e.week||0,r=e.day||0,c=e.hour||0,o=e.minute||0,l=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*l+6e4*o+36e5*c,this._days=+r+7*n,this._months=+i+3*s+12*a,this._data={},this._locale=Y(),this._bubble()}function Ut(t){return t instanceof Pt}function Tt(t,e){U(t,0,0,function(){var t=this.utcOffset(),a="+";return 0>t&&(t=-t,a="-"),a+P(~~(t/60),2)+e+P(~~t%60,2)})}function Ot(t,e){var a=(e||"").match(t)||[],s=a[a.length-1]||[],i=(s+"").match(zs)||["-",0,0],n=+(60*i[1])+g(i[2]);return"+"===i[0]?n:-n}function It(e,a){var i,n;return a._isUTC?(i=a.clone(),n=(p(e)||s(e)?+e:+Ft(e))-+i,i._d.setTime(+i._d+n),t.updateOffset(i,!1),i):Ft(e).local()}function Wt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function $t(e,a){var s,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ot(_s,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&a&&(s=Wt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!a||this._changeInProgress?ae(this,qt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Wt(this):null!=e?this:NaN}function Gt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function jt(t){return this.utcOffset(0,t)}function Lt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Wt(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ot(ps,this._i)),this}function Vt(t){return this.isValid()?(t=t?Ft(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(d(t,this),t=bt(t),t._a){var e=t._isUTC?c(t._a):Ft(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Jt(){return this.isValid()?!this._isUTC:!1}function Zt(){return this.isValid()?this._isUTC:!1}function Xt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function qt(t,e){var a,s,i,r=t,c=null;return Ut(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(c=Bs.exec(t))?(a="-"===c[1]?-1:1,r={y:0,d:g(c[Cs])*a,h:g(c[Ns])*a,m:g(c[Ys])*a,s:g(c[Ds])*a,ms:g(c[bs])*a}):(c=Js.exec(t))?(a="-"===c[1]?-1:1,r={y:Qt(c[2],a),M:Qt(c[3],a),d:Qt(c[4],a),h:Qt(c[5],a),m:Qt(c[6],a),s:Qt(c[7],a),w:Qt(c[8],a)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=te(Ft(r.from),Ft(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new Pt(r),Ut(t)&&n(t,"_locale")&&(s._locale=t._locale),s}function Qt(t,e){var a=t&&parseFloat(t.replace(",","."));return(isNaN(a)?0:a)*e}function Kt(t,e){var a={milliseconds:0,months:0};return a.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(a.months,"M").isAfter(e)&&--a.months,a.milliseconds=+e-+t.clone().add(a.months,"M"),a}function te(t,e){var a;return t.isValid()&&e.isValid()?(e=It(e,t),t.isBefore(e)?a=Kt(t,e):(a=Kt(e,t),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function ee(t,e){return function(a,s){var i,n;return null===s||isNaN(+s)||(rt(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),n=a,a=s,s=n),a="string"==typeof a?+a:a,i=qt(a,s),ae(this,i,t),this}}function ae(e,a,s,i){var n=a._milliseconds,r=a._days,c=a._months;e.isValid()&&(i=null==i?!0:i,n&&e._d.setTime(+e._d+n*s),r&&k(e,"Date",A(e,"Date")+r*s),c&&q(e,A(e,"Month")+c*s),i&&t.updateOffset(e,r||c))}function se(t,e){var a=t||Ft(),s=It(a,this).startOf("day"),i=this.diff(s,"days",!0),n=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",r=e&&(M(e[n])?e[n]():e[n]);return this.format(r||this.localeData().calendar(n,this,Ft(a)))}function ie(){return new f(this)}function ne(t,e){var a=p(t)?t:Ft(t);return this.isValid()&&a.isValid()?(e=b(h(e)?"millisecond":e),"millisecond"===e?+this>+a:+a<+this.clone().startOf(e)):!1}function re(t,e){var a=p(t)?t:Ft(t);return this.isValid()&&a.isValid()?(e=b(h(e)?"millisecond":e),"millisecond"===e?+a>+this:+this.clone().endOf(e)<+a):!1}function ce(t,e,a){return this.isAfter(t,a)&&this.isBefore(e,a)}function oe(t,e){var a,s=p(t)?t:Ft(t);return this.isValid()&&s.isValid()?(e=b(e||"millisecond"),"millisecond"===e?+this===+s:(a=+s,+this.clone().startOf(e)<=a&&a<=+this.clone().endOf(e))):!1}function le(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ue(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function me(t,e,a){var s,i,n,r;return this.isValid()?(s=It(t,this),s.isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),e=b(e),"year"===e||"month"===e||"quarter"===e?(r=he(this,s),"quarter"===e?r/=3:"year"===e&&(r/=12)):(n=this-s,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-i)/864e5:"week"===e?(n-i)/6048e5:n),a?r:_(r)):NaN):NaN}function he(t,e){var a,s,i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return 0>e-n?(a=t.clone().add(i-1,"months"),s=(e-n)/(n-a)):(a=t.clone().add(i+1,"months"),s=(e-n)/(a-n)),-(i+s)}function de(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?M(Date.prototype.toISOString)?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(e){var a=I(this,e||t.defaultFormat);return this.localeData().postformat(a)}function _e(t,e){return this.isValid()&&(p(t)&&t.isValid()||Ft(t).isValid())?qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.from(Ft(),t)}function ye(t,e){return this.isValid()&&(p(t)&&t.isValid()||Ft(t).isValid())?qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ve(t){return this.to(Ft(),t)}function Ee(t){var e;return void 0===t?this._locale._abbr:(e=Y(t),null!=e&&(this._locale=e),this)}function Re(){return this._locale}function Se(t){switch(t=b(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ce(t){return t=b(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ne(){return+this._d-6e4*(this._offset||0)}function Ye(){return Math.floor(+this/1e3)}function De(){return this._offset?new Date(+this):this._d}function be(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function we(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Me(){return this.isValid()?this.toISOString():"null"}function Fe(){return u(this)}function Ae(){return r({},l(this))}function ke(){return l(this).overflow}function xe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Pe(t,e){U(0,[t,t.length],0,e)}function Ue(t){return We.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Te(t){return We.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Oe(){return gt(this.year(),1,4)}function Ie(){var t=this.localeData()._week;return gt(this.year(),t.dow,t.doy)}function We(t,e,a,s,i){var n;return null==t?_t(this,s,i).year:(n=gt(t,s,i),e>n&&(e=n),$e.call(this,t,e,a,s,i))}function $e(t,e,a,s,i){var n=pt(t,e,a,s,i),r=ut(n.year,0,n.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Ge(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function je(t){return _t(t,this._week.dow,this._week.doy).week}function Le(){return this._week.dow}function He(){return this._week.doy}function Ve(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ze(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Be(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Je(t,e){return a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Ze(t){return this._weekdaysShort[t.day()]}function Xe(t){return this._weekdaysMin[t.day()]}function qe(t,e,a){var s,i,n;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;7>s;s++){if(i=Ft([2e3,1]).day(s),a&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),a&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(a&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(a&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!a&&this._weekdaysParse[s].test(t))return s}}function Qe(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Be(t,this.localeData()),this.add(t-e,"d")):e}function Ke(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ta(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function ea(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function aa(){return this.hours()%12||12}function sa(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ia(t,e){return e._meridiemParse}function na(t){return"p"===(t+"").toLowerCase().charAt(0)}function ra(t,e,a){return t>11?a?"pm":"PM":a?"am":"AM"}function ca(t,e){e[bs]=g(1e3*("0."+t))}function oa(){return this._isUTC?"UTC":""}function la(){return this._isUTC?"Coordinated Universal Time":""}function ua(t){return Ft(1e3*t)}function ma(){return Ft.apply(null,arguments).parseZone()}function ha(t,e,a){var s=this._calendar[t];return M(s)?s.call(e,a):s}function da(t){var e=this._longDateFormat[t],a=this._longDateFormat[t.toUpperCase()];return e||!a?e:(this._longDateFormat[t]=a.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function fa(){return this._invalidDate}function pa(t){return this._ordinal.replace("%d",t)}function _a(t){return t}function ga(t,e,a,s){var i=this._relativeTime[a];return M(i)?i(t,e,a,s):i.replace(/%d/i,t)}function ya(t,e){var a=this._relativeTime[t>0?"future":"past"];return M(a)?a(e):a.replace(/%s/i,e)}function va(t){var e,a;for(a in t)e=t[a],M(e)?this[a]=e:this["_"+a]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function Ea(t,e,a,s){var i=Y(),n=c().set(s,e);return i[a](n,t)}function Ra(t,e,a,s,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ea(t,e,a,i);var n,r=[];for(n=0;s>n;n++)r[n]=Ea(t,n,a,i);return r}function Sa(t,e){return Ra(t,e,"months",12,"month")}function Ca(t,e){return Ra(t,e,"monthsShort",12,"month")}function Na(t,e){return Ra(t,e,"weekdays",7,"day")}function Ya(t,e){return Ra(t,e,"weekdaysShort",7,"day")}function Da(t,e){return Ra(t,e,"weekdaysMin",7,"day")}function ba(){var t=this._data;return this._milliseconds=yi(this._milliseconds),this._days=yi(this._days),this._months=yi(this._months),t.milliseconds=yi(t.milliseconds),t.seconds=yi(t.seconds),t.minutes=yi(t.minutes),t.hours=yi(t.hours),t.months=yi(t.months),t.years=yi(t.years),this}function wa(t,e,a,s){var i=qt(e,a);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function Ma(t,e){return wa(this,t,e,1)}function Fa(t,e){return wa(this,t,e,-1)}function Aa(t){return 0>t?Math.floor(t):Math.ceil(t)}function ka(){var t,e,a,s,i,n=this._milliseconds,r=this._days,c=this._months,o=this._data;return n>=0&&r>=0&&c>=0||0>=n&&0>=r&&0>=c||(n+=864e5*Aa(Pa(c)+r),r=0,c=0),o.milliseconds=n%1e3,t=_(n/1e3),o.seconds=t%60,e=_(t/60),o.minutes=e%60,a=_(e/60),o.hours=a%24,r+=_(a/24),i=_(xa(r)),c+=i,r-=Aa(Pa(i)),s=_(c/12),c%=12,o.days=r,o.months=c,o.years=s,this}function xa(t){return 4800*t/146097}function Pa(t){return 146097*t/4800}function Ua(t){var e,a,s=this._milliseconds;if(t=b(t),"month"===t||"year"===t)return e=this._days+s/864e5,a=this._months+xa(e),"month"===t?a:a/12;switch(e=this._days+Math.round(Pa(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}}function Ta(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Oa(t){return function(){return this.as(t)}}function Ia(t){return t=b(t),this[t+"s"]()}function Wa(t){return function(){return this._data[t]}}function $a(){return _(this.days()/7)}function Ga(t,e,a,s,i){return i.relativeTime(e||1,!!a,t,s)}function ja(t,e,a){var s=qt(t).abs(),i=Pi(s.as("s")),n=Pi(s.as("m")),r=Pi(s.as("h")),c=Pi(s.as("d")),o=Pi(s.as("M")),l=Pi(s.as("y")),u=i<Ui.s&&["s",i]||1>=n&&["m"]||n<Ui.m&&["mm",n]||1>=r&&["h"]||r<Ui.h&&["hh",r]||1>=c&&["d"]||c<Ui.d&&["dd",c]||1>=o&&["M"]||o<Ui.M&&["MM",o]||1>=l&&["y"]||["yy",l];return u[2]=e,u[3]=+t>0,u[4]=a,Ga.apply(null,u)}function La(t,e){return void 0===Ui[t]?!1:void 0===e?Ui[t]:(Ui[t]=e,!0)}function Ha(t){var e=this.localeData(),a=ja(this,!t,e);return t&&(a=e.pastFuture(+this,a)),e.postformat(a)}function Va(){var t,e,a,s=Ti(this._milliseconds)/1e3,i=Ti(this._days),n=Ti(this._months);t=_(s/60),e=_(t/60),s%=60,t%=60,a=_(n/12),n%=12;var r=a,c=n,o=i,l=e,u=t,m=s,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(r?r+"Y":"")+(c?c+"M":"")+(o?o+"D":"")+(l||u||m?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(m?m+"S":""):"P0D"}var za,Ba,Ja=t.momentProperties=[],Za=!1,Xa={},qa={},Qa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ka=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ts={},es={},as=/\d/,ss=/\d\d/,is=/\d{3}/,ns=/\d{4}/,rs=/[+-]?\d{6}/,cs=/\d\d?/,os=/\d\d\d\d?/,ls=/\d\d\d\d\d\d?/,us=/\d{1,3}/,ms=/\d{1,4}/,hs=/[+-]?\d{1,6}/,ds=/\d+/,fs=/[+-]?\d+/,ps=/Z|[+-]\d\d:?\d\d/gi,_s=/Z|[+-]\d\d(?::?\d\d)?/gi,gs=/[+-]?\d+(\.\d{1,3})?/,ys=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,vs={},Es={},Rs=0,Ss=1,Cs=2,Ns=3,Ys=4,Ds=5,bs=6,ws=7,Ms=8;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),$("M",cs),$("MM",cs,ss),$("MMM",function(t,e){return e.monthsShortRegex(t)}),$("MMMM",function(t,e){return e.monthsRegex(t)}),H(["M","MM"],function(t,e){e[Ss]=g(t)-1}),H(["MMM","MMMM"],function(t,e,a,s){var i=a._locale.monthsParse(t,s,a._strict);null!=i?e[Ss]=i:l(a).invalidMonth=t});var Fs=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,As="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ks="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xs=ys,Ps=ys,Us={};t.suppressDeprecationWarnings=!1;var Ts=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Os=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Is=/Z|[+-]\d\d(?::?\d\d)?/,Ws=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$s=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gs=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=nt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),U("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),D("year","y"),$("Y",fs),$("YY",cs,ss),$("YYYY",ms,ns),$("YYYYY",hs,rs),$("YYYYYY",hs,rs),H(["YYYYY","YYYYYY"],Rs),H("YYYY",function(e,a){a[Rs]=2===e.length?t.parseTwoDigitYear(e):g(e)}),H("YY",function(e,a){a[Rs]=t.parseTwoDigitYear(e)}),H("Y",function(t,e){e[Rs]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var js=F("FullYear",!1);t.ISO_8601=function(){};var Ls=nt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:m()}),Hs=nt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),Vs=function(){return Date.now?Date.now():+new Date};Tt("Z",":"),Tt("ZZ",""),$("Z",_s),$("ZZ",_s),H(["Z","ZZ"],function(t,e,a){a._useUTC=!0,a._tzm=Ot(_s,t)});var zs=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Bs=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Js=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;qt.fn=Pt.prototype;var Zs=ee(1,"add"),Xs=ee(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var qs=nt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){
return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Pe("gggg","weekYear"),Pe("ggggg","weekYear"),Pe("GGGG","isoWeekYear"),Pe("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),$("G",fs),$("g",fs),$("GG",cs,ss),$("gg",cs,ss),$("GGGG",ms,ns),$("gggg",ms,ns),$("GGGGG",hs,rs),$("ggggg",hs,rs),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,a,s){e[s.substr(0,2)]=g(t)}),V(["gg","GG"],function(e,a,s,i){a[i]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),D("quarter","Q"),$("Q",as),H("Q",function(t,e){e[Ss]=3*(g(t)-1)}),U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),$("w",cs),$("ww",cs,ss),$("W",cs),$("WW",cs,ss),V(["w","ww","W","WW"],function(t,e,a,s){e[s.substr(0,1)]=g(t)});var Qs={dow:0,doy:6};U("D",["DD",2],"Do","date"),D("date","D"),$("D",cs),$("DD",cs,ss),$("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),H(["D","DD"],Cs),H("Do",function(t,e){e[Cs]=g(t.match(cs)[0],10)});var Ks=F("Date",!0);U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),$("d",cs),$("e",cs),$("E",cs),$("dd",ys),$("ddd",ys),$("dddd",ys),V(["dd","ddd","dddd"],function(t,e,a,s){var i=a._locale.weekdaysParse(t,s,a._strict);null!=i?e.d=i:l(a).invalidWeekday=t}),V(["d","e","E"],function(t,e,a,s){e[s]=g(t)});var ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ei="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_");U("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),$("DDD",us),$("DDDD",is),H(["DDD","DDDD"],function(t,e,a){a._dayOfYear=g(t)}),U("H",["HH",2],0,"hour"),U("h",["hh",2],0,aa),U("hmm",0,0,function(){return""+aa.apply(this)+P(this.minutes(),2)}),U("hmmss",0,0,function(){return""+aa.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),sa("a",!0),sa("A",!1),D("hour","h"),$("a",ia),$("A",ia),$("H",cs),$("h",cs),$("HH",cs,ss),$("hh",cs,ss),$("hmm",os),$("hmmss",ls),$("Hmm",os),$("Hmmss",ls),H(["H","HH"],Ns),H(["a","A"],function(t,e,a){a._isPm=a._locale.isPM(t),a._meridiem=t}),H(["h","hh"],function(t,e,a){e[Ns]=g(t),l(a).bigHour=!0}),H("hmm",function(t,e,a){var s=t.length-2;e[Ns]=g(t.substr(0,s)),e[Ys]=g(t.substr(s)),l(a).bigHour=!0}),H("hmmss",function(t,e,a){var s=t.length-4,i=t.length-2;e[Ns]=g(t.substr(0,s)),e[Ys]=g(t.substr(s,2)),e[Ds]=g(t.substr(i)),l(a).bigHour=!0}),H("Hmm",function(t,e){var a=t.length-2;e[Ns]=g(t.substr(0,a)),e[Ys]=g(t.substr(a))}),H("Hmmss",function(t,e){var a=t.length-4,s=t.length-2;e[Ns]=g(t.substr(0,a)),e[Ys]=g(t.substr(a,2)),e[Ds]=g(t.substr(s))});var si=/[ap]\.?m?\.?/i,ii=F("Hours",!0);U("m",["mm",2],0,"minute"),D("minute","m"),$("m",cs),$("mm",cs,ss),H(["m","mm"],Ys);var ni=F("Minutes",!1);U("s",["ss",2],0,"second"),D("second","s"),$("s",cs),$("ss",cs,ss),H(["s","ss"],Ds);var ri=F("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),$("S",us,as),$("SS",us,ss),$("SSS",us,is);var ci;for(ci="SSSS";ci.length<=9;ci+="S")$(ci,ds);for(ci="S";ci.length<=9;ci+="S")H(ci,ca);var oi=F("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var li=f.prototype;li.add=Zs,li.calendar=se,li.clone=ie,li.diff=me,li.endOf=Ce,li.format=pe,li.from=_e,li.fromNow=ge,li.to=ye,li.toNow=ve,li.get=x,li.invalidAt=ke,li.isAfter=ne,li.isBefore=re,li.isBetween=ce,li.isSame=oe,li.isSameOrAfter=le,li.isSameOrBefore=ue,li.isValid=Fe,li.lang=qs,li.locale=Ee,li.localeData=Re,li.max=Hs,li.min=Ls,li.parsingFlags=Ae,li.set=x,li.startOf=Se,li.subtract=Xs,li.toArray=be,li.toObject=we,li.toDate=De,li.toISOString=fe,li.toJSON=Me,li.toString=de,li.unix=Ye,li.valueOf=Ne,li.creationData=xe,li.year=js,li.isLeapYear=dt,li.weekYear=Ue,li.isoWeekYear=Te,li.quarter=li.quarters=Ge,li.month=Q,li.daysInMonth=K,li.week=li.weeks=Ve,li.isoWeek=li.isoWeeks=ze,li.weeksInYear=Ie,li.isoWeeksInYear=Oe,li.date=Ks,li.day=li.days=Qe,li.weekday=Ke,li.isoWeekday=ta,li.dayOfYear=ea,li.hour=li.hours=ii,li.minute=li.minutes=ni,li.second=li.seconds=ri,li.millisecond=li.milliseconds=oi,li.utcOffset=$t,li.utc=jt,li.local=Lt,li.parseZone=Ht,li.hasAlignedHourOffset=Vt,li.isDST=zt,li.isDSTShifted=Bt,li.isLocal=Jt,li.isUtcOffset=Zt,li.isUtc=Xt,li.isUTC=Xt,li.zoneAbbr=oa,li.zoneName=la,li.dates=nt("dates accessor is deprecated. Use date instead.",Ks),li.months=nt("months accessor is deprecated. Use month instead",Q),li.years=nt("years accessor is deprecated. Use year instead",js),li.zone=nt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Gt);var ui=li,mi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},hi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},di="Invalid date",fi="%d",pi=/\d{1,2}/,_i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},gi=v.prototype;gi._calendar=mi,gi.calendar=ha,gi._longDateFormat=hi,gi.longDateFormat=da,gi._invalidDate=di,gi.invalidDate=fa,gi._ordinal=fi,gi.ordinal=pa,gi._ordinalParse=pi,gi.preparse=_a,gi.postformat=_a,gi._relativeTime=_i,gi.relativeTime=ga,gi.pastFuture=ya,gi.set=va,gi.months=J,gi._months=As,gi.monthsShort=Z,gi._monthsShort=ks,gi.monthsParse=X,gi._monthsRegex=Ps,gi.monthsRegex=et,gi._monthsShortRegex=xs,gi.monthsShortRegex=tt,gi.week=je,gi._week=Qs,gi.firstDayOfYear=He,gi.firstDayOfWeek=Le,gi.weekdays=Je,gi._weekdays=ti,gi.weekdaysMin=Xe,gi._weekdaysMin=ai,gi.weekdaysShort=Ze,gi._weekdaysShort=ei,gi.weekdaysParse=qe,gi.isPM=na,gi._meridiemParse=si,gi.meridiem=ra,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,a=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+a}}),t.lang=nt("moment.lang is deprecated. Use moment.locale instead.",C),t.langData=nt("moment.langData is deprecated. Use moment.localeData instead.",Y);var yi=Math.abs,vi=Oa("ms"),Ei=Oa("s"),Ri=Oa("m"),Si=Oa("h"),Ci=Oa("d"),Ni=Oa("w"),Yi=Oa("M"),Di=Oa("y"),bi=Wa("milliseconds"),wi=Wa("seconds"),Mi=Wa("minutes"),Fi=Wa("hours"),Ai=Wa("days"),ki=Wa("months"),xi=Wa("years"),Pi=Math.round,Ui={s:45,m:45,h:22,d:26,M:11},Ti=Math.abs,Oi=Pt.prototype;Oi.abs=ba,Oi.add=Ma,Oi.subtract=Fa,Oi.as=Ua,Oi.asMilliseconds=vi,Oi.asSeconds=Ei,Oi.asMinutes=Ri,Oi.asHours=Si,Oi.asDays=Ci,Oi.asWeeks=Ni,Oi.asMonths=Yi,Oi.asYears=Di,Oi.valueOf=Ta,Oi._bubble=ka,Oi.get=Ia,Oi.milliseconds=bi,Oi.seconds=wi,Oi.minutes=Mi,Oi.hours=Fi,Oi.days=Ai,Oi.weeks=$a,Oi.months=ki,Oi.years=xi,Oi.humanize=Ha,Oi.toISOString=Va,Oi.toString=Va,Oi.toJSON=Va,Oi.locale=Ee,Oi.localeData=Re,Oi.toIsoString=nt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Va),Oi.lang=qs,U("X",0,0,"unix"),U("x",0,0,"valueOf"),$("x",fs),$("X",gs),H("X",function(t,e,a){a._d=new Date(1e3*parseFloat(t,10))}),H("x",function(t,e,a){a._d=new Date(g(t))}),t.version="2.11.1",e(Ft),t.fn=ui,t.min=kt,t.max=xt,t.now=Vs,t.utc=c,t.unix=ua,t.months=Sa,t.isDate=s,t.locale=C,t.invalid=m,t.duration=qt,t.isMoment=p,t.weekdays=Na,t.parseZone=ma,t.localeData=Y,t.isDuration=Ut,t.monthsShort=Ca,t.weekdaysMin=Da,t.defineLocale=N,t.weekdaysShort=Ya,t.normalizeUnits=b,t.relativeTimeThreshold=La,t.prototype=ui;var Ii=t;return Ii});var ArtistPaymentNew=React.createClass({displayName:"ArtistPaymentNew",getInitialState:function(){return{artist_payment:{date:"",artist_name:"",name:"",fee_category_id:1,amount:"",check_no:"",certification_id:this.props.certification.id},errors:{}}},handleNameChange:function(t){var e=this.state.artist_payment;e.name=t.target.value,this.setState({artist_payment:e})},handleArtistNameChange:function(t){var e=this.state.artist_payment;e.artist_name=t.target.value,this.setState({artist_payment:e})},handleDateChange:function(t){var e=this.state.artist_payment;e.date=t.target.value,this.setState({artist_payment:e})},handleAmountChange:function(t){var e=this.state.artist_payment;e.amount=t.target.value,this.setState({artist_payment:e})},handleCheckNoChange:function(t){var e=this.state.artist_payment;e.check_no=t.target.value,this.setState({artist_payment:e})},handleFeeCategoryChange:function(t){var e=this.state.artist_payment;e.fee_category_id=t.target.value,this.setState({artist_payment:e})},addArtistPayment:function(){var t=this;$.ajax({method:"POST",data:{artist_payment:t.state.artist_payment},url:"/artist_payments.json",success:function(e){t.props.handleAddArtistPayment(e),t.setState({artist_payment:{date:"",artist_name:"",name:"",fee_category_id:1,amount:"",check_no:"",certification_id:t.props.certification.id},errors:{}})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},formQbPl:function(){var t=React.createElement(QbPl,{certification:this.props.certification,handleCertificationUpdate:this.props.handleCertificationUpdate,getYearStatus:this.props.getYearStatus});return t},newForm:function(){var t=this.props.fee_categories.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:a},t.name)}),e=this.props.getYearStatus();if(e.future||e.progress||e.past){var a;e.future&&(a=!0);var s=React.createElement("div",{className:"new-payment"},React.createElement("div",{className:"form"},React.createElement("div",{className:"col col-xs-12 col-md-6"},React.createElement("div",{className:"form-group"},React.createElement("label",null,"Date"),React.createElement("input",{disabled:a,value:this.state.artist_payment.date,type:"date",className:"form-control",onChange:this.handleDateChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.date)),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Artist Name"),React.createElement("input",{disabled:a,value:this.state.artist_payment.artist_name,type:"text",placeholder:"Artist Name",onChange:this.handleArtistNameChange,className:"form-control"}),React.createElement("span",{style:{color:"red"}},this.state.errors.artist_name)),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Program Name"),React.createElement("input",{disabled:a,type:"text",value:this.state.artist_payment.name,placeholder:"Program Name",onChange:this.handleNameChange,className:"form-control"}),React.createElement("span",{style:{color:"red"}},this.state.errors.name))),React.createElement("div",{className:"col col-xs-12 col-md-6"},React.createElement("div",{className:"form-group"},React.createElement("label",null,"Fee Category"),React.createElement("select",{disabled:a,type:"text",className:"form-control",value:this.optionState,onChange:this.handleFeeCategoryChange},t)),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Amount"),React.createElement("input",{disabled:a,type:"text",placeholder:"Amount",value:this.state.artist_payment.amount,onChange:this.handleAmountChange,className:"form-control"}),React.createElement("span",{style:{color:"red"}},this.state.errors.amount)),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Check No."),React.createElement("input",{disabled:a,type:"text",placeholder:"Check No.",value:this.state.artist_payment.check_no,onChange:this.handleCheckNoChange,className:"form-control"}),React.createElement("span",{style:{color:"red"}},this.state.errors.check_no))),React.createElement("div",{id:"actions",className:"field-group"},React.createElement("button",{onClick:this.addArtistPayment,disabled:a,className:"btn btn-lg"},React.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})," Create New Payment"))))}else var s;return console.log(this.props.getYearStatus().past),s},render:function(){if(this.props.getYearStatus().future)var t="Once your fiscal year has started, c";else var t="C";return React.createElement("div",{id:"artist_payments",className:"artist_payments new container"},React.createElement("div",{className:"intro"},React.createElement("div",{className:"title"},React.createElement("h1",null,React.createElement("span",null,"Artist Payments")),React.createElement("h4",null,"FY: ",this.props.formatted_dates())),React.createElement("h4",{className:"can-have-payments"},"Organizations must demonstrate having paid artist fees according to W.A.G.E.\u2019s minimum standards of compensation during the fiscal year in which they apply."),React.createElement("h4",null,t,"reate an entry for each fee payment to an artist between ",this.props.formatted_dates(),". "),React.createElement("h5",null,"Alternatively, you may submit a Quickbooks P&L: ",this.formQbPl())),this.newForm())}}),QbPl=React.createClass({displayName:"QbPl",getInitialState:function(){return{certification:this.props.certification}},clearFile:function(t){var e=this.state.certification;e[t.target.id]=null,this.setState({certification:e}),this.props.handleCertificationUpdate(this.state.certification)},getSignature:function(t,e){function a(){return $.ajax({url:"/upload.json",dataType:"json"})}$.when(a()).done(function(a){e(t,a.data)}.bind(this))},uploadFile:function(t,e){var a=this,s=$(t.target),i=$("#"+t.target.id+" .bar");s.fileupload({fileInput:s,url:e.url,type:"POST",autoUpload:!0,formData:e["form-data"],paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(t,e){var a=parseInt(e.loaded/e.total*100,10);i.css("width",a+"%")},start:function(){i.css("background","lime").css("display","block").css("width","1%").text("Loading...")},done:function(t,e){i.text("Upload complete");var n=($(e.jqXHR.responseXML).find("Key").text(),$(e.jqXHR.responseXML).find("Location").text()),r=($("<input />",{type:"hidden",name:s.attr("name"),value:n}),a.state.certification);r[t.target.id]=n,a.setState({certification:r}),a.props.handleCertificationUpdate(this.state.certification)}.bind(this),fail:function(){console.log("fail"),i.css("background","red").text("Failed")}})},handleFileChange:function(t){target=$(t.target),this.getSignature(t,this.uploadFile)},hasFile:function(t){var e;if(this.props.getYearStatus().future&&(e=!0),this.state.certification[t])var a=React.createElement("div",{id:t,className:"file-uploaded"},React.createElement("button",{onClick:this.clearFile},"Replace")," ",this.state.certification[t]);else var a=React.createElement("div",{id:t,className:"directUpload"},React.createElement("input",{disabled:e,value:"",type:"file",id:t,onChange:this.handleFileChange}),React.createElement("div",{className:"progress"},React.createElement("div",{className:"bar"})));return a},render:function(){return React.createElement("div",null,this.hasFile("qb_pl"))}}),ArtistPayments=React.createClass({displayName:"ArtistPayments",getInitialState:function(){return{artist_payments:this.props.artist_payments}},handleAddArtistPayment:function(t){var e=this.state.artist_payments;e.push(t),this.setState({artist_payments:e})},handleDeleteArtistPayment:function(t){var e=this.state.artist_payments.filter(function(e){return t.id!==e.id});this.setState({artist_payments:e})},thisSorted:function(t){this.setState({artist_payments:t})},render:function(){return React.createElement("div",{className:"artist_payments"},React.createElement(AmountBox,{artist_payments:this.state.artist_payments,className:"amount-box col col-lg-4"}),React.createElement(ArtistPaymentNew,{fee_categories:this.props.fee_categories,formatted_date:this.props.formatted_date,certification:this.props.certification,handleAddArtistPayment:this.handleAddArtistPayment}),React.createElement(ArtistPaymentsTable,{artist_payments:this.state.artist_payments,fee_categories:this.props.fee_categories,thisSorted:this.thisSorted,handleDeleteArtistPayment:this.handleDeleteArtistPayment}))}}),AmountBox=React.createClass({displayName:"AmountBox",totals:function(t){var e=t.reduce(function(t,e){return t+parseInt(e.amount)},0),a=[],s=(t.map(function(t){a.push(t.artist_name)}),a.filter(function(t,e){return a.indexOf(t)==e})),i=s.length,n=[],r=t.map(function(t){n.push(t.name)}),c=r.length;return{total_payments:e,total_artists:i,total_programs:c}},percentDiff:function(t,e){var a=t/e*100;return a.toFixed(1)+"%"},render:function(){var t=this.totals(this.props.artist_payments).total_payments,e=(this.totals(this.props.artist_payments).total_artists,this.totals(this.props.artist_payments).total_programs,"$"+Number(t).toLocaleString()),a="$"+Number(this.props.certification.operating_expenses).toLocaleString(),s=this.percentDiff(t,this.props.certification.operating_expenses),i={width:s};return React.createElement("div",{key:"amount-box",className:"amount-box"},React.createElement("div",{style:i,className:"bar"},s),React.createElement("p",null,React.createElement("span",{className:"hightlight"},"Artist Fees: ",e)),React.createElement("p",null,"Operating Expenses: ",a))}}),ArtistPaymentsFeeComparison=React.createClass({displayName:"ArtistPaymentsFeeComparison",percentDiff:function(t,e){var a=t-e,s=a/e*100;return s>0?React.createElement("span",{className:"diff over"},"+",s.toFixed(2),"%"):React.createElement("span",{className:"diff under"},s.toFixed(2),"%")},render:function(){var t=this.percentDiff(this.props.artist_payment.amount,this.props.floor_fee);return t}}),Guidelines=React.createClass({displayName:"Guidelines",getInitialState:function(){return{isFuture:!0,isPast:!1,isProgress:!1,newUser:!1}},componentDidMount:function(){null!=this.props.getYearStatus().future&&this.setState({isFuture:this.props.getYearStatus().future,newUser:this.props.getYearStatus().newUser}),null!=this.props.getYearStatus().past&&this.setState({isPast:this.props.getYearStatus().past,newUser:!1}),null!=this.props.getYearStatus().progress&&this.setState({isProgress:this.props.getYearStatus().progress,newUser:this.props.getYearStatus().newUser})},printYearStatus:function(){var t,e="a ";if(this.state.isFuture&&null==this.state.isPast){var e="an ";t="upcoming"}else if(this.state.isPast)t="prior";else if(this.state.isPast){t="current";var e="the "}return{year:t,prefix:e}},getSections:function(){var t;return t=0==this.state.newUser?(this.state.isFuture||this.state.isProgress)&&null==this.state.isPast?React.createElement("div",null,React.createElement("h4",null,"Your organization is applying for W.A.G.E. Certification in ",this.printYearStatus().prefix+this.printYearStatus().year," fiscal year."),React.createElement("h4",null,"To process your application we will need the following documentation:"),React.createElement("ul",null,React.createElement("li",null,"Total operating expenses for the year"),React.createElement("li",null,"A projected operating budget")),React.createElement("h4",null,"Your application is effectively a commitment to paying fees according to W.A.G.E. standards. Your status will be listed as W.A.G.E. Certified Pending until the close of the fiscal period, at which time a history of fee payments is required. Once you have demonstrated your organization\u2019s compliance you will be listed and may list yourself as W.A.G.E. Certified.")):React.createElement("div",null,React.createElement("h4",null,"Your organization is applying for W.A.G.E. Certification in ",this.printYearStatus().prefix+this.printYearStatus().year," fiscal year."),React.createElement("h4",null,"To process your application we will need the following documentation in order to establish that fees were paid according to W.A.G.E. standards:"),React.createElement("h4",null,React.createElement("ul",null,React.createElement("li",null,"Total operating expenses"),React.createElement("li",null,"A history of fee payment"),React.createElement("li",null,"A closed-out operating budget"),React.createElement("li",null,"If available, form 990 for ",this.printYearStatus().year))),React.createElement("h4",null,"Once you enter your total operating expenses, a customized fee schedule will be generated listing the minimum fees required for certification. The final step is to imput your history of fee payment under 'Artist Payments'.")):React.createElement("div",{className:"guidelines-new"},React.createElement("section",null,React.createElement("h4",null,"Your first application must include:"),React.createElement("h4",null,React.createElement("ul",null,React.createElement("li",null,"Templates of contracts used with artists"),React.createElement("li",null,"Your most recent 990"),React.createElement("li",null,"Your 501c3 determination letter ",React.createElement("small",null,React.createElement("em",null,"or documentation of fiscal sponsorship"))))),React.createElement("h4",null,"These documents only need to be submitted once."),React.createElement("h4",null,'Your first application is for the current or upcoming fiscal year, and must also include a projected operating budget for the current year with "Artist Fees" as a distinct and visible line item.')))},render:function(){return React.createElement("div",{id:"guidelines"},this.getSections())}}),ArtistPaymentsTable=React.createClass({displayName:"ArtistPaymentsTable",getInitialState:function(){return{artist_payments:this.props.artist_payments,sortBy:"date",sortDir:"ASC"}},_sortRowsBy:function(t){this.props._sortRowsBy(t)},handleDeleteArtistPayment:function(t){this.props.handleDeleteArtistPayment(t)},render:function(){var t=this,e=this.props.artist_payments.map(function(e){return React.createElement(ArtistPaymentsTableRow,{key:e.id,deleteArtistPayment:t.handleDeleteArtistPayment,artist_payment:e,fee_categories:t.props.fee_categories})}),a=React.createElement("table",{id:"artist_payments",className:"table table-responsive table-striped table-hover"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"date first",onClick:this._sortRowsBy},"Date"),React.createElement("th",{className:"artist_name",onClick:this._sortRowsBy},"Artist Name"),React.createElement("th",{className:"name",onClick:this._sortRowsBy},"Program/Exhibition"),React.createElement("th",{className:"fee_category_id",onClick:this._sortRowsBy},"Fee Category"),React.createElement("th",{className:"amount",onClick:this._sortRowsBy},"Amount"),React.createElement("th",{className:"check_no",onClick:this._sortRowsBy},"Check #"),React.createElement("th",{className:"actions"},"Actions"))),React.createElement("tbody",null,e));return a}}),ArtistPaymentsTableRow=React.createClass({displayName:"ArtistPaymentsTableRow",getInitialState:function(){return{artist_payment:this.props.artist_payment,editMode:!1,errors:{}}},handleNameChange:function(t){var e=this.state.artist_payment;e.name=t.target.value,this.setState({artist_payment:e})},handleArtistNameChange:function(t){var e=this.state.artist_payment;e.artist_name=t.target.value,this.setState({artist_payment:e})},handleDateChange:function(t){var e=this.state.artist_payment;e.date=t.target.value,this.setState({artist_payment:e})},handleAmountChange:function(t){var e=this.state.artist_payment;e.amount=t.target.value,this.setState({artist_payment:e})},handleCheckNoChange:function(t){var e=this.state.artist_payment;e.check_no=t.target.value,this.setState({artist_payment:e})},handleFeeCategoryChange:function(t){var e=this.state.artist_payment;e.fee_category_id=t.target.value,this.setState({artist_payment:e})},handleArtistPaymentUpdate:function(){var t=this;$.ajax({method:"PUT",data:{artist_payment:t.state.artist_payment},url:"/artist_payments/"+t.state.artist_payment.id+".json",success:function(e){t.setState({errors:{},artist_payment:e,editMode:!1})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},handleDeleteArtistPayment:function(){var t=confirm("Are you sure?");if(1==t){var e=this;$.ajax({method:"DELETE",url:"/artist_payments/"+e.state.artist_payment.id+".json",success:function(){e.props.deleteArtistPayment(e.state.artist_payment)}})}},setEditMode:function(){this.setState({editMode:!0})},render:function(){var t=this.props.fee_categories.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:a},t.name)}),e=this.state.artist_payment.fee_category_id-1,a=this.props.fee_categories[e].name,s=this.props.fee_categories[e].floor_fee,i=moment(this.props.artist_payment.date).format("MM/DD/Y"),n="$"+Number(this.props.artist_payment.amount).toLocaleString();return this.state.editMode?payment_row=React.createElement("tr",{key:this.state.artist_payment.id},React.createElement("td",{className:"first field-group"},React.createElement("input",{type:"date",className:"form-control",value:this.state.artist_payment.date,onChange:this.handleDateChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.date)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.artist_name,onChange:this.handleArtistNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.artist_name)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.name,onChange:this.handleNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.name)),React.createElement("td",{className:"field-group"},React.createElement("select",{type:"text",className:"form-control",value:this.optionState,onChange:this.handleFeeCategoryChange},t)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.amount,onChange:this.handleAmountChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.amount)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.check_no,onChange:this.handleCheckNoChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.check_no)),React.createElement("td",{className:"last"},React.createElement("button",{onClick:this.handleArtistPaymentUpdate,className:"btn"},"Save"))):payment_row=React.createElement("tr",{key:this.state.artist_payment.id},React.createElement("td",{className:"first"},i),React.createElement("td",null,this.state.artist_payment.artist_name),React.createElement("td",null,this.state.artist_payment.name),React.createElement("td",null,a),React.createElement("td",null,n," ",React.createElement(ArtistPaymentsFeeComparison,{artist_payment:this.state.artist_payment,floor_fee:s})),React.createElement("td",null,this.state.artist_payment.check_no),React.createElement("td",{className:"last"},React.createElement("button",{onClick:this.setEditMode,className:"btn"},"Edit"),React.createElement("button",{onClick:this.handleDeleteArtistPayment,className:"btn btn-danger"},React.createElement("i",{className:"fa fa-trash"})))),payment_row}}),ArtistPaymentsFeeComparison=React.createClass({displayName:"ArtistPaymentsFeeComparison",percentDiff:function(t,e){var a=t-e,s=a/e*100;return s>0?React.createElement("span",{className:"diff over"},"+",s.toFixed(2),"%"):React.createElement("span",{className:"diff under"},s.toFixed(2),"%")},render:function(){var t=this.percentDiff(this.props.artist_payment.amount,this.props.floor_fee);return t}}),ArtistPaymentsTableRow=React.createClass({displayName:"ArtistPaymentsTableRow",getInitialState:function(){return{artist_payment:this.props.artist_payment,editMode:!1,errors:{}}},handleNameChange:function(t){var e=this.state.artist_payment;e.name=t.target.value,this.setState({artist_payment:e})},handleArtistNameChange:function(t){var e=this.state.artist_payment;e.artist_name=t.target.value,this.setState({artist_payment:e})},handleDateChange:function(t){var e=this.state.artist_payment;e.date=t.target.value,this.setState({artist_payment:e})},handleAmountChange:function(t){var e=this.state.artist_payment;e.amount=t.target.value,this.setState({artist_payment:e})},handleCheckNoChange:function(t){var e=this.state.artist_payment;e.check_no=t.target.value,this.setState({artist_payment:e})},handleFeeCategoryChange:function(t){var e=this.state.artist_payment;e.fee_category_id=t.target.value,this.setState({artist_payment:e})},handleArtistPaymentUpdate:function(){var t=this;$.ajax({method:"PUT",data:{artist_payment:t.state.artist_payment},url:"/artist_payments/"+t.state.artist_payment.id+".json",success:function(e){t.setState({errors:{},artist_payment:e,editMode:!1})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},handleDeleteArtistPayment:function(){var t=confirm("Are you sure?");if(1==t){var e=this;$.ajax({method:"DELETE",url:"/artist_payments/"+e.state.artist_payment.id+".json",success:function(){e.props.deleteArtistPayment(e.state.artist_payment)}})}},setEditMode:function(){this.setState({editMode:!0})},render:function(){var t=this.props.fee_categories.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:a},t.name)}),e=this.state.artist_payment.fee_category_id-1,a=this.props.fee_categories[e].name,s=this.props.fee_categories[e].floor_fee,i=moment(this.props.artist_payment.date).format("MM/DD/Y"),n="$"+Number(this.props.artist_payment.amount).toLocaleString();return this.state.editMode?payment_row=React.createElement("tr",{key:this.state.artist_payment.id},React.createElement("td",{className:"first field-group"},React.createElement("input",{type:"date",className:"form-control",value:this.state.artist_payment.date,onChange:this.handleDateChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.date)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.artist_name,onChange:this.handleArtistNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.artist_name)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.name,onChange:this.handleNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.name)),React.createElement("td",{className:"field-group"},React.createElement("select",{type:"text",className:"form-control",value:this.optionState,onChange:this.handleFeeCategoryChange},t)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.amount,onChange:this.handleAmountChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.amount)),React.createElement("td",{className:"field-group"},React.createElement("input",{type:"text",className:"form-control",value:this.state.artist_payment.check_no,onChange:this.handleCheckNoChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.check_no)),React.createElement("td",{className:"last"},React.createElement("button",{onClick:this.handleArtistPaymentUpdate,className:"btn"},"Save"))):payment_row=React.createElement("tr",{key:this.state.artist_payment.id},React.createElement("td",{className:"first"},i),React.createElement("td",null,this.state.artist_payment.artist_name),React.createElement("td",null,this.state.artist_payment.name),React.createElement("td",null,a),React.createElement("td",null,n," ",React.createElement(ArtistPaymentsFeeComparison,{artist_payment:this.state.artist_payment,floor_fee:s})),React.createElement("td",null,this.state.artist_payment.check_no),React.createElement("td",{className:"last"},React.createElement("button",{onClick:this.setEditMode,className:"btn"},"Edit"),React.createElement("button",{onClick:this.handleDeleteArtistPayment,className:"btn btn-danger"},React.createElement("i",{className:"fa fa-trash"})))),payment_row}}),newCertification=React.createClass({displayName:"newCertification",getInitialState:function(){return{certification:this.props.certification,certifications:this.props.certifications,user:this.props.user,artist_payments:this.props.artist_payments,
isFuture:!1,canSubmit:!1,hasFinancials:!1,hasPayments:!1,contentState:0,editDates:this.setEditDates(),applicationStatus:this.applicationStatus(),sortDir:"ASC"}},componentDidMount:function(){this.setState({canSubmit:this.canSubmit(),hasFinancials:this.hasFinancials()})},canSubmit:function(){return!!(this.hasFinancials()&&this.hasStatement()&&this.hasContact())},isFuture:function(){return new Date<Date.parse(this.state.certification.fiscal_start)},hasFinancials:function(){return this.state.certification.operating_expenses&&this.state.certification.file_990&&this.state.certification.file_budget&&this.state.user.file_501c3?!0:void 0},hasContact:function(){return this.state.user.rep_name&&this.state.user.rep_title&&this.state.user.phone&&this.state.user.website&&this.state.user.address_st1&&this.state.user.address_city&&this.state.user.address_state&&this.state.user.address_zip?!0:void 0},hasContactProgress:function(){return this.hasContact()?"true":this.state.user.rep_name||this.state.user.rep_title||this.state.user.phone||this.state.user.website||this.state.user.address_st1||this.state.user.address_city||this.state.user.address_state||this.state.user.address_zip?"progress":void 0},hasFinancialsProgress:function(){return this.hasFinancials()?"true":this.state.certification.operating_expenses||this.state.certification.file_990||this.state.certification.file_budget||this.state.user.file_501c3?"progress":void 0},hasStatement:function(){return this.state.user.statement&&this.state.user.statement.length>3?!0:void 0},hasStatementProgress:function(){return this.state.user.statement?"true":"false"},applicationStatus:function(){return 2!=this.props.certification.status?0:1},onCertificationSubmit:function(){var t=this.state.certification;t.status=1,this.handleCertificationUpdate(t)},handleCertificationUpdate:function(t){var e=this;$.ajax({method:"PUT",data:{certification:t},url:"/certifications/"+t.id+".json",success:function(t){e.setState({certification:t,canSubmit:e.canSubmit()}),t.notice&&($("main").append('<div class="submit notice"><p>'+t.notice+"</p></div>"),setTimeout(function(){window.location="http://localhost:3000"},2e3))},error:function(t){e.setState({errors:t.responseJSON.errors})}})},handleUserUpdate:function(t){var e=this;$.ajax({method:"PATCH",data:{user:t},url:"/users.json",success:function(){e.setState({user:t,canSubmit:e.canSubmit()})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},paymentsSorted:function(t){this.setState({artist_payments:t})},handleNewCertification:function(t){var e=$(t.target).parent().find("select").val(),a=this.state.certification,s=this.state.user.fiscal_start,i=this.state.user.fiscal_end;moment(i).format("Y")!=e?moment(s).format("Y")==moment(i).format("Y")&&(a.fiscal_start=s.replace(moment(s).format("Y"),t.target.value)):(a.fiscal_start=s,a.fiscal_end=i),this.handleAddCertification(a)},handleAddCertification:function(t){var e=this;$.ajax({method:"POST",data:{certification:t},url:"/certifications.json",success:function(t){certifications=e.state.certifications,certifications.push(t),e.setState({certifications:certifications,certification:certifications[0],editDates:!1})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},formatDates:function(){if(this.state.certification.fiscal_start)if(moment(this.state.certification.fiscal_start).format("Y")==moment(this.state.certification.fiscal_end).format("Y"))var t=moment(this.state.certification.fiscal_start).format("MMMM D")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");else var t=moment(this.state.certification.fiscal_start).format("MMMM D, YYYY")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");else var t=moment(new Date).format("Y");return t},formatOperatingExpenses:function(){return this.state.certification.operating_expenses.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},actions:function(){if(this.state.canSubmit)var t=!1;else var t=!0;var e=React.createElement("div",{id:"actions",className:"col-xs-12"},React.createElement("button",{disabled:t,className:"btn btn-lg save",onClick:this.onCertificationSubmit},"Submit"));return e},viewFeeSchedule:function(){this.setState({contentState:5}),$(".status .item").removeClass("active")},feeSchedule:function(){if(null!=this.state.certification.operating_expenses)var t=React.createElement("button",{className:"btn fee-schedule",onClick:this.viewFeeSchedule},"My Fee Schedule");return t},setEditDates:function(){return!this.props.user.fiscal_start},getYearStatus:function(){return{future:!1,past:!1,progress:!1,newUser:!0}},toggleEditDates:function(){this.setState({editDates:!this.state.editDates})},getNext:function(){var t;t=1==this.state.contentState&&this.getYearStatus().future?3:this.state.contentState+1,this.setState({contentState:t}),$(".status .item").removeClass("active"),$('.status .item[data-id="'+t+'"]').addClass("active")},contentState:function(){if(3!=this.state.contentState||this.state.canSubmit)var t=React.createElement("button",{className:"btn next",onClick:this.getNext},"Next ",React.createElement("i",{className:"fa fa-chevron-right"}));else var t=React.createElement("button",{className:"btn next",disabled:"true",onClick:this.getNext},"Next ",React.createElement("i",{className:"fa fa-chevron-right"}));if(0==this.state.contentState)var e=React.createElement("div",{className:"guidelines"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Application Guidelines"))),React.createElement(Guidelines,{key:"guidelines",getYearStatus:this.getYearStatus}),t);else if(1==this.state.contentState)var e=React.createElement("div",{className:"contact"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Contact Information"))),React.createElement(NewUserContact,{key:"contact",user:this.state.user,handleUserUpdate:this.handleUserUpdate}),t);else if(3==this.state.contentState)var e=React.createElement("div",{className:"statement"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Statement of Intent"))),React.createElement(UserStatement,{user:this.state.user}),t);else if(2==this.state.contentState){if(this.state.editDates||this.state.certification&&!this.state.certification.fiscal_start)if(this.state.certification.fiscal_start||this.state.certification.fiscal_end)var a=React.createElement(FiscalDates,{user:this.state.user,certification:this.state.certification,editDates:"true",toggleEditDates:this.toggleEditDates,formatDates:this.formatDates,handleCertificationUpdate:this.handleCertificationUpdate,handleUserUpdate:this.handleUserUpdate,handleAddCertification:this.handleAddCertification,getYearStatus:this.getYearStatus});else{var s=function(t,e,a){return a.indexOf(t)===e},i=new Date,n=[],r="",c="";moment(this.state.user.fiscal_start)<moment(i).add(90,"days")&&moment(i)<moment(this.state.user.fiscal_end)&&(c=moment(this.state.user.fiscal_end).format("Y"),n.push(parseInt(c))),moment(this.state.user.fiscal_start).add(1,"year")<moment(i).add(90,"days")&&moment(this.state.user.fiscal_start).add(2,"years").subtract(1,"days").format("Y")!=c&&(r=moment(this.state.user.fiscal_start).add(2,"years").subtract(1,"days").format("Y"),n.push(parseInt(r)));var o=n.filter(s);console.log(o);var l=o.map(function(t){return React.createElement("option",{key:t,value:t},t)}),a=React.createElement("div",null,React.createElement("h4",null,"Start my certification in: "),React.createElement("div",{className:"form certification-year"},React.createElement("h4",null,React.createElement("select",{className:"form-control"},l)),React.createElement("button",{className:"btn btn-lg",onClick:this.handleNewCertification},"Next")),React.createElement("h4",null,"You can apply for certification in additional years once your first application is complete."))}else if(this.state.certification&&this.state.certification.fiscal_start)var a=React.createElement("div",null,React.createElement(FiscalDates,{user:this.state.user,certification:this.state.certification,editDates:this.state.editDates,toggleEditDates:this.toggleEditDates,formatDates:this.formatDates,handleCertificationUpdate:this.handleCertificationUpdate,handleUserUpdate:this.handleUserUpdate,handleAddCertification:this.handleAddCertification}),React.createElement(CertificationFinancials,{certification:this.state.certification,user:this.state.user,newUser:"true",certifications:this.state.certifications.length,canSubmit:this.canSubmit,handleCertificationUpdate:this.handleCertificationUpdate,handleUserUpdate:this.handleUserUpdate,getYearStatus:this.getYearStatus}),t);var u,m=new Date;m.getFullYear();null==this.state.certification.fiscal_start||this.state.editDates||(u=React.createElement("h5",null,"Fiscal Year: ",this.formatDates()));var e=React.createElement("div",{className:"financials"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Fiscal Details")),u),a)}else if(4==this.state.contentState)var e=React.createElement("div",{className:"review"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Review")),u),React.createElement(CertificationSubmitView,{user:this.state.user,certification:this.state.certification,certifications:this.props.certifications,artist_payment:this.state.artist_payments,isFuture:this.state.isFuture,handleSubmit:this.onCertificationSubmit}));else 5==this.state.contentState&&(e=React.createElement("div",{className:"review"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Fee Schedule")),u),React.createElement(FeeSchedule,{user:this.state.user,certification:this.state.certification,fee_categories:this.props.fee_categories})));return e},setContentState:function(t){1==!$(t.target).data("disabled")&&(this.setState({contentState:$(t.target).parent().data("id"),canSubmit:this.canSubmit(this.state.certification,this.state.user)}),$(".status .item").removeClass("active"),$(t.target).parent().addClass("active"))},render:function(){var t;return null!=this.state.certification.fiscal_start&&null!=this.state.certification.fiscal_end&&(t=": FY  "+moment(this.state.certification.fiscal_end).format("YYYY")),React.createElement("div",{id:"certification",className:"show"},React.createElement("div",{className:"greeting","data-state":this.state.contentState},React.createElement("h4",null,React.createElement("span",null,"Get Certified")),React.createElement("h6",{className:"status col-xs-12 col-sm-9 col-md-7 "},React.createElement("div",{className:"item","data-id":"0"},React.createElement("i",{className:"fa","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Guidelines")),React.createElement("div",{className:"item","data-complete":this.hasContactProgress(),"data-id":"1"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Contact Info")),React.createElement("div",{className:"item","data-complete":this.hasFinancialsProgress(),"data-id":"2"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Fiscal Details")),React.createElement("div",{className:"item","data-complete":this.hasStatementProgress(),"data-id":"3"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Statement")),React.createElement("div",{className:"item","data-id":"4"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState,"data-disabled":!this.state.canSubmit},"Review"))),this.feeSchedule()),React.createElement("div",{className:"content","data-content-state":this.state.contentState},this.contentState()))}}),Certification=React.createClass({displayName:"Certification",getInitialState:function(){return{certification:this.props.certification,submitMode:this.setSubmitMode(),errors:{}}},setSubmitMode:function(){return 2==this.props.certification.status},handleFiscalStartChange:function(t){var e=this.state.certification;e.fiscal_start=t.target.value,this.setState({certification:e})},handleFiscalEndChange:function(t){var e=this.state.certification;e.fiscal_end=t.target.value,this.setState({certification:e})},handleStatusChange:function(t){var e=this.state.certification;e.status=t.target.value,this.setState({certification:e})},toggleStatus:function(){var t=this.state.certification;t.status=this.state.certification.status+1,this.handleCertificationUpdate(t)},handleCertificationUpdate:function(t){var e=this;$.ajax({method:"PUT",data:{certification:t},url:"/certifications/"+t.id+".json",success:function(t){e.setState({errors:{},certification:t,editMode:!1})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},handleCertificationDelete:function(){var t=this;$.ajax({method:"DELETE",url:"/certifications/"+t.state.certification.id+".json",success:function(){t.props.onDeleteCertification(t.state.certification)}})},formatFiscalDates:function(){var t=moment(this.state.certification.fiscal_end).format("Y");return t},render:function(){var t="certifications/"+this.state.certification.id;if(0==this.state.certification.status)var e="In Progress";else if(1==this.state.certification.status)var e="In Review";else if(2==this.state.certification.status)var e="W.A.G.E. Certified Pending";else if(3==this.state.certification.status)var e="Pending Updates";else if(4==this.state.certification.status)var e="W.A.G.E. Certified";else var e="W.A.G.E. Certified Pending";if(this.state.submitMode)var a=React.createElement("div",null,React.createElement("button",{onClick:this.handleCertificationUpdate,className:"btn"},"Submit"));var s=React.createElement("a",{href:t,key:this.state.certification.id,className:"certification teaser"},React.createElement("h3",null,this.formatFiscalDates()),React.createElement("span",{className:"status"},React.createElement("i",{className:"fa fa-check"}),e),React.createElement("span",{className:"updated"},moment(this.state.certification.updated_at).fromNow()),a);return s}}),CertificationIsSubmitted=React.createClass({displayName:"CertificationIsSubmitted",getInitialState:function(){return{certification:this.props.certification,user:this.props.user,artist_payments:this.props.artist_payments,sortBy:"date",isFuture:!1,canSubmit:!1,hasFinancials:!1,hasPayments:"false",pendingPayments:!1,contentState:1,applicationStatus:this.applicationStatus(),sortDir:"ASC"}},componentDidMount:function(){this.setState({canSubmit:this.canSubmit(),hasFinancials:this.hasFinancials(),hasPayments:this.hasPayments(),contentState:this.getContentState()}),$('.status .item[data-id="'+this.getContentState()+'"]').addClass("active")},getContentState:function(){return this.canSubmit()?3:this.state.certification.status<2&&this.getYearStatus().future&&"progress"==this.hasFinancials()?1:this.state.certification.status<2&&this.getYearStatus().progress&&"true"==this.hasFinancials()?2:0},canSubmit:function(){return this.state.certification.status<=2&&"true"==this.hasFinancials()?this.getYearStatus().past&&"true"==this.hasPayments()?!0:(this.getYearStatus().future||this.getYearStatus().progress)&&"true"==this.hasFinancials()?!0:void 0:!1},getNext:function(){var t;t=1==this.state.contentState&&this.getYearStatus().future?3:this.state.contentState+1,this.setState({contentState:t}),$(".status .item").removeClass("active"),$('.status .item[data-id="'+t+'"]').addClass("active")},getYearStatus:function(){var t,e,a,s=new Date;if(s<Date.parse(this.state.certification.fiscal_start))var t=!0;return s>Date.parse(this.state.certification.fiscal_end)?e=!0:s>Date.parse(this.state.certification.fiscal_start)&&(a=!0),{future:t,past:e,progress:a}},hasFinancials:function(){return this.getYearStatus().future||this.getYearStatus().past?this.state.certification.operating_expenses&&this.state.certification.file_budget?"true":this.state.certification.operating_expenses||this.state.certification.file_contract||this.state.certification.file_budget?"progress":"false":void 0},hasPayments:function(){return this.state.artist_payments?this.state.artist_payments.length>8?"true":this.state.artist_payments.length>0?"progress":void 0:"false"},applicationStatus:function(){return 2!=this.props.certification.status?0:1},_sortRowsBy:function(t){var e=this.state.sortDir,a=t.target.className.split(" ")[0];e=a===this.state.sortBy&&"ASC"==this.state.sortDir?"DESC":"ASC";var s=this.state.artist_payments.slice();s.sort(function(t,s){var i=0;return t[a]>s[a]&&(i=1),t[a]<s[a]&&(i=-1),"DESC"===e&&(i=-1*i),i}),this.setState({sortBy:a,sortDir:e}),this.setState({artist_payments:s}),$("th").removeClass("active"),$(t.target).addClass("active").toggleClass("ASC")},handleAddArtistPayment:function(t){var e=this.state.artist_payments;e.push(t),this.setState({artist_payments:e})},handleDeleteArtistPayment:function(t){var e=this.state.artist_payments.filter(function(e){return t.id!==e.id});this.setState({artist_payments:e})},onCertificationSubmit:function(){var t=this.state.certification;t.status=2,this.handleCertificationUpdate(t)},handleCertificationUpdate:function(t){var e=this;$.ajax({method:"PUT",data:{certification:t},url:"/certifications/"+t.id+".json",success:function(t){var a=!1;t.notice?($("main").append('<div class="submit notice"><p>'+t.notice+"</p></div>"),a=!0,e.setState({certification:t.certification,canSubmit:e.canSubmit(),pendingPayments:a}),setTimeout(function(){window.location="http://localhost:3000"},2e3)):e.setState({certification:t.certification,canSubmit:e.canSubmit(),pendingPayments:a})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},handleUserUpdate:function(t){var e=this;$.ajax({method:"PATCH",data:{user:t},url:"/users.json",success:function(){e.setState({user:t,canSubmit:e.canSubmit()})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},paymentsSorted:function(t){this.setState({artist_payments:t})},formatDates:function(){if(moment(this.state.certification.fiscal_start).format("Y")==moment(this.state.certification.fiscal_start).format("Y"))var t=moment(this.state.certification.fiscal_start).format("MMMM D")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");else var t=moment(this.state.certification.fiscal_start).format("MMMM D, YYYY")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");return t},formatOperatingExpenses:function(){return this.state.certification.operating_expenses.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},getArtistPayments:function(){if("progress"==this.hasPayments()||"true"==this.hasPayments())var t=React.createElement(ArtistPaymentsTable,{artist_payments:this.state.artist_payments,_sortRowsBy:this._sortRowsBy,paymentsSorted:this.paymentsSorted,handleDeleteArtistPayment:this.handleDeleteArtistPayment,fee_categories:this.props.fee_categories});else var t;return t},actions:function(){if(this.state.canSubmit)var t=!1;else var t=!0;var e=React.createElement("div",{id:"actions",className:"col-xs-12"},React.createElement("button",{disabled:t,className:"btn btn-lg save",onClick:this.onCertificationSubmit},"Submit"));return e},contentState:function(){var t=React.createElement("button",{className:"btn next",onClick:this.getNext},"Next");if(0==this.state.contentState&&this.state.certification.status<1)var e=React.createElement("div",{className:"guidelines"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Application Guidelines")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(Guidelines,{getYearStatus:this.getYearStatus}),t);else if(0!=this.state.contentState||1!=this.state.certification.status&&2!=this.state.certification.status){if(1==this.state.contentState)var e=React.createElement("div",{className:"financials"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Fiscal Details")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(CertificationFinancials,{certification:this.state.certification,user:this.state.user,certifications:this.props.certifications,handleCertificationUpdate:this.handleCertificationUpdate,canSubmit:this.state.canSubmit,handleUserUpdate:this.handleUserUpdate,newUser:!1,getYearStatus:this.getYearStatus}),t);else if(2==this.state.contentState)if(this.props.artist_payments.length>0)var e=React.createElement("div",null,React.createElement(AmountBox,{artist_payments:this.state.artist_payments,certification:this.state.certification}),React.createElement(ArtistPaymentNew,{handleAddArtistPayment:this.handleAddArtistPayment,certification:this.state.certification,fee_categories:this.props.fee_categories,formatted_dates:this.formatDates,getYearStatus:this.getYearStatus,handleCertificationUpdate:this.handleCertificationUpdate}),this.getArtistPayments());else var e=React.createElement("div",null,React.createElement(ArtistPaymentNew,{handleAddArtistPayment:this.handleAddArtistPayment,certification:this.state.certification,fee_categories:this.props.fee_categories,formatted_dates:this.formatDates,getYearStatus:this.getYearStatus,handleCertificationUpdate:this.handleCertificationUpdate}));else if(3==this.state.contentState)var e=React.createElement("div",{className:"review"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Review")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(CertificationSubmitView,{user:this.state.user,certification:this.state.certification,certifications:this.props.certifications,artist_payment:this.state.artist_payments,isFuture:this.state.isFuture,handleSubmit:this.onCertificationSubmit}))}else var e=React.createElement("div",{className:"fee-schedule"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"My Fee Schedule")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(FeeSchedule,{fee_categories:this.props.fee_categories,floor_categories:this.props.fee_categories,user:this.state.user,certification:this.state.certification}));return e},setContentState:function(t){this.setState({contentState:$(t.target).parent().data("id"),canSubmit:this.canSubmit()}),$(".status .item").removeClass("active"),$(t.target).parent().addClass("active")},render:function(){if(moment(this.state.certification.fiscal_start).format("YYYY")==moment(this.state.certification.fiscal_end).format("YYYY"))var t=moment(this.state.certification.fiscal_start).format("YYYY");else var t=moment(this.state.certification.fiscal_end).format("YYYY");if(this.getYearStatus().future&&this.state.certification.status<2)var e,a=["guidelines","financials","artist_payments","review"];else var a=["fee schedule","financials","artist_payments","review"],e=React.createElement("div",{className:"item","data-id":"2","data-complete":this.hasPayments()},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Artist Payments"));if(this.canSubmit())var s=React.createElement("span",{onClick:this.setContentState,"data-disabled":!this.state.canSubmit},"Review");else var s=React.createElement("span",{"data-disabled":!this.state.canSubmit},"Review");var i;return this.state.certification.status<1?i=React.createElement("div",{className:"item","data-id":"0"},React.createElement("i",{className:"fa","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Guidelines")):1!=this.state.certification.status&&2!=this.state.certification.status||!this.getYearStatus().future&&!this.getYearStatus().progress||(i=React.createElement("div",{className:"item","data-id":"0"},React.createElement("i",{className:"fa","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Fee Schedule"))),React.createElement("div",{id:"certification",className:"show"},React.createElement("div",{className:"greeting","data-state":this.state.contentState,"data-future":this.getYearStatus().future,"data-progress":this.getYearStatus().progress},React.createElement("h4",null,React.createElement("span",null,"Get Certified",React.createElement("span",{className:"date"},": FY  ",t))),React.createElement("h6",{className:"status col-xs-12 col-sm-9 col-md-7"},i,React.createElement("div",{className:"item","data-complete":this.hasFinancials(),"data-id":"1"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Fiscal Details")),e,React.createElement("div",{className:"item","data-id":"3"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),s))),React.createElement("div",{id:a[this.state.contentState],className:"content "+a[this.state.contentState],"data-content-state":this.state.contentState},this.contentState()),React.createElement("div",{className:"status-img","data-state":this.state.certification.status},React.createElement("img",{src:"https://s3.amazonaws.com/wagency/WAGE-Pending-Logo.png"})))}}),CertificationShow=React.createClass({displayName:"CertificationShow",getInitialState:function(){return{certification:this.props.certification,user:this.props.user,artist_payments:this.props.artist_payments,sortBy:"date",isFuture:!1,canSubmit:!1,hasFinancials:!1,hasPayments:"false",pendingPayments:!1,contentState:1,applicationStatus:this.applicationStatus(),sortDir:"ASC"}},componentDidMount:function(){this.setState({canSubmit:this.canSubmit(),hasFinancials:this.hasFinancials(),hasPayments:this.hasPayments(),contentState:this.getContentState()}),$('.status .item[data-id="'+this.getContentState()+'"]').addClass("active")},getContentState:function(){return this.canSubmit()?3:this.state.certification.status<2&&this.getYearStatus().future&&"progress"==this.hasFinancials()?1:this.state.certification.status<2&&this.getYearStatus().progress&&"true"==this.hasFinancials()?2:0},canSubmit:function(){return this.state.certification.status<=2&&"true"==this.hasFinancials()?this.getYearStatus().past&&"true"==this.hasPayments()?!0:(this.getYearStatus().future||this.getYearStatus().progress)&&"true"==this.hasFinancials()?!0:void 0:!1},getNext:function(){var t;t=1==this.state.contentState&&this.getYearStatus().future?3:this.state.contentState+1,this.setState({contentState:t}),$(".status .item").removeClass("active"),$('.status .item[data-id="'+t+'"]').addClass("active")},getYearStatus:function(){var t,e,a,s=new Date;if(s<Date.parse(this.state.certification.fiscal_start))var t=!0;return s>Date.parse(this.state.certification.fiscal_end)?e=!0:s>Date.parse(this.state.certification.fiscal_start)&&(a=!0),{future:t,past:e,progress:a}},hasFinancials:function(){return this.getYearStatus().future||this.getYearStatus().past?this.state.certification.operating_expenses&&this.state.certification.file_budget?"true":this.state.certification.operating_expenses||this.state.certification.file_contract||this.state.certification.file_budget?"progress":"false":void 0},hasPayments:function(){return this.state.artist_payments?this.state.artist_payments.length>1?"true":this.state.artist_payments.length>0?"progress":void 0:"false"},applicationStatus:function(){return 2!=this.props.certification.status?0:1},_sortRowsBy:function(t){var e=this.state.sortDir,a=t.target.className.split(" ")[0];e=a===this.state.sortBy&&"ASC"==this.state.sortDir?"DESC":"ASC";var s=this.state.artist_payments.slice();s.sort(function(t,s){var i=0;return t[a]>s[a]&&(i=1),t[a]<s[a]&&(i=-1),"DESC"===e&&(i=-1*i),i}),this.setState({sortBy:a,sortDir:e}),this.setState({artist_payments:s}),$("th").removeClass("active"),$(t.target).addClass("active").toggleClass("ASC")},handleAddArtistPayment:function(t){var e=this.state.artist_payments;e.push(t),this.setState({artist_payments:e})},handleDeleteArtistPayment:function(t){var e=this.state.artist_payments.filter(function(e){return t.id!==e.id});this.setState({artist_payments:e})},onCertificationSubmit:function(){var t=this.state.certification;t.status=2,this.handleCertificationUpdate(t)},handleCertificationUpdate:function(t){var e=this;$.ajax({method:"PUT",data:{certification:t},url:"/certifications/"+t.id+".json",success:function(t){var a=!1;t.notice?($("main").append('<div class="submit notice"><p>'+t.notice+"</p></div>"),a=!0,e.setState({certification:t.certification,canSubmit:e.canSubmit(),pendingPayments:a}),setTimeout(function(){window.location="http://localhost:3000"},2e3)):e.setState({certification:t.certification,canSubmit:e.canSubmit(),pendingPayments:a})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},handleUserUpdate:function(t){var e=this;$.ajax({method:"PATCH",data:{user:t},url:"/users.json",success:function(){e.setState({user:t,canSubmit:e.canSubmit()})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},paymentsSorted:function(t){this.setState({artist_payments:t})},formatDates:function(){if(moment(this.state.certification.fiscal_start).format("Y")==moment(this.state.certification.fiscal_start).format("Y"))var t=moment(this.state.certification.fiscal_start).format("MMMM D")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");else var t=moment(this.state.certification.fiscal_start).format("MMMM D, YYYY")+" - "+moment(this.state.certification.fiscal_end).format("MMMM D, YYYY");return t},formatOperatingExpenses:function(){return this.state.certification.operating_expenses.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},getArtistPayments:function(){if("progress"==this.hasPayments()||"true"==this.hasPayments())var t=React.createElement(ArtistPaymentsTable,{artist_payments:this.state.artist_payments,_sortRowsBy:this._sortRowsBy,paymentsSorted:this.paymentsSorted,handleDeleteArtistPayment:this.handleDeleteArtistPayment,fee_categories:this.props.fee_categories});else var t;return t},actions:function(){if(this.state.canSubmit)var t=!1;else var t=!0;var e=React.createElement("div",{id:"actions",className:"col-xs-12"},React.createElement("button",{disabled:t,className:"btn btn-lg save",onClick:this.onCertificationSubmit},"Submit"));return e},contentState:function(){var t=React.createElement("button",{className:"btn next",onClick:this.getNext},"Next");if(0==this.state.contentState&&this.state.certification.status<1)var e=React.createElement("div",{className:"guidelines"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Application Guidelines")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(Guidelines,{getYearStatus:this.getYearStatus}),t);else if(0!=this.state.contentState||1!=this.state.certification.status&&2!=this.state.certification.status){if(1==this.state.contentState)var e=React.createElement("div",{className:"financials"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Fiscal Details")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(CertificationFinancials,{certification:this.state.certification,user:this.state.user,certifications:this.props.certifications,handleCertificationUpdate:this.handleCertificationUpdate,canSubmit:this.state.canSubmit,handleUserUpdate:this.handleUserUpdate,newUser:!1,getYearStatus:this.getYearStatus}),t);else if(2==this.state.contentState)if(this.props.artist_payments.length>0)var e=React.createElement("div",null,React.createElement(AmountBox,{artist_payments:this.state.artist_payments,certification:this.state.certification}),React.createElement(ArtistPaymentNew,{handleAddArtistPayment:this.handleAddArtistPayment,certification:this.state.certification,fee_categories:this.props.fee_categories,formatted_dates:this.formatDates,getYearStatus:this.getYearStatus,handleCertificationUpdate:this.handleCertificationUpdate}),this.getArtistPayments());else var e=React.createElement("div",null,React.createElement(ArtistPaymentNew,{handleAddArtistPayment:this.handleAddArtistPayment,certification:this.state.certification,fee_categories:this.props.fee_categories,formatted_dates:this.formatDates,getYearStatus:this.getYearStatus,handleCertificationUpdate:this.handleCertificationUpdate}));else if(3==this.state.contentState)var e=React.createElement("div",{className:"review"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"Review")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(CertificationSubmitView,{
user:this.state.user,certification:this.state.certification,certifications:this.props.certifications,artist_payment:this.state.artist_payments,isFuture:this.state.isFuture,handleSubmit:this.onCertificationSubmit}))}else var e=React.createElement("div",{className:"fee-schedule"},React.createElement("div",{className:"intro"},React.createElement("h1",null,React.createElement("span",null,"My Fee Schedule")),React.createElement("h4",null,"FY: ",this.formatDates())),React.createElement(FeeSchedule,{fee_categories:this.props.fee_categories,floor_categories:this.props.fee_categories,user:this.state.user,certification:this.state.certification}));return e},setContentState:function(t){this.setState({contentState:$(t.target).parent().data("id"),canSubmit:this.canSubmit()}),$(".status .item").removeClass("active"),$(t.target).parent().addClass("active")},render:function(){if(moment(this.state.certification.fiscal_start).format("YYYY")==moment(this.state.certification.fiscal_end).format("YYYY"))var t=moment(this.state.certification.fiscal_start).format("YYYY");else var t=moment(this.state.certification.fiscal_end).format("YYYY");if(this.getYearStatus().future&&this.state.certification.status<2)var e,a=["guidelines","financials","artist_payments","review"];else var a=["fee schedule","financials","artist_payments","review"],e=React.createElement("div",{className:"item","data-id":"2","data-complete":this.hasPayments()},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Artist Payments"));if(this.canSubmit())var s=React.createElement("span",{onClick:this.setContentState,"data-disabled":!this.state.canSubmit},"Review");else var s=React.createElement("span",{"data-disabled":!this.state.canSubmit},"Review");var i;return this.state.certification.status<1?i=React.createElement("div",{className:"item","data-id":"0"},React.createElement("i",{className:"fa","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Guidelines")):1!=this.state.certification.status&&2!=this.state.certification.status||!this.getYearStatus().future&&!this.getYearStatus().progress||(i=React.createElement("div",{className:"item","data-id":"0"},React.createElement("i",{className:"fa","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Fee Schedule"))),React.createElement("div",{id:"certification",className:"show"},React.createElement("div",{className:"greeting","data-state":this.state.contentState,"data-future":this.getYearStatus().future,"data-progress":this.getYearStatus().progress},React.createElement("h4",null,React.createElement("span",null,"Get Certified",React.createElement("span",{className:"date"},": FY  ",t))),React.createElement("h6",{className:"status col-xs-12 col-sm-9 col-md-7"},i,React.createElement("div",{className:"item","data-complete":this.hasFinancials(),"data-id":"1"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),React.createElement("span",{onClick:this.setContentState},"Fiscal Details")),e,React.createElement("div",{className:"item","data-id":"3"},React.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),s))),React.createElement("div",{id:a[this.state.contentState],className:"content "+a[this.state.contentState],"data-content-state":this.state.contentState},this.contentState()),React.createElement("div",{className:"status-img","data-state":this.state.certification.status},React.createElement("img",{src:"https://s3.amazonaws.com/wagency/WAGE-Pending-Logo.png"})))}}),CertificationSubmitView=React.createClass({displayName:"CertificationSubmitView",getInitialState:function(){return{certification:this.props.certification,user:this.props.user,artist_payments:this.props.artist_payments,certifications:this.props.certifications}},handleSubmit:function(){this.props.handleSubmit(this.props.certification)},showStatement:function(){if(this.props.certifications.length<2)var t=React.createElement("div",{className:"section statement clearfix"},React.createElement("h3",null,"Statement of Intent"),React.createElement("p",null,this.state.user.statement));else var t;return t},render:function(){if(moment(this.state.certification.fiscal_start).format("YYYY")==moment(this.state.certification.fiscal_end).format("YYYY")){moment(this.state.certification.fiscal_start).format("YYYY")}else{moment(this.state.certification.fiscal_start).format("YY")+"-"+moment(this.state.certification.fiscal_end).format("YY")}if(moment(this.props.user.fiscal_start).format("Y")==moment(this.props.user.fiscal_end).format("Y"))var t=moment(this.props.user.fiscal_start).format("MMM D - ");else var t=moment(this.props.user.fiscal_start).format("MMM D, ");var e=(React.createElement("span",null,t,moment(this.props.user.fiscal_end).format("MMM D, Y")),"$"+Number(this.props.certification.operating_expenses).toLocaleString());if(this.props.isFuture)var a;else var a=React.createElement("div",{className:"section artist-payments clearfix"},React.createElement("h4",null,"Pending approval of this application, ",this.state.user.institution_name," will have W.A.G.E. Pending status for FY ",moment(this.state.certification.fiscal_start).format("YYYY"),"."),React.createElement("h4",null,"Organizations are expected to pay artist fees according to W.A.G.E.\u2019s ",React.createElement("a",{href:"/fee-schedule"},"minimum standards")," of compensation."),React.createElement("h4",null,"At the close of this fiscal period your organization must provide documentation of payments using this application's fee tracker, or by uploading a Quickbooks P&L."));if(this.props.certification.status<2)var s=React.createElement("button",{className:"btn btn-lg save",onClick:this.handleSubmit},"Submit");else var s;return React.createElement("div",{id:"review",className:"certification"},React.createElement("div",{className:"section contact clearfix"},React.createElement("h3",null,"Contact Information"),React.createElement("h4",null,this.props.user.institution_name),React.createElement("div",{className:"col col-lg-6"},React.createElement("p",null,this.props.user.rep_name,", ",this.props.user.rep_title),React.createElement("p",null,this.props.user.email),React.createElement("p",null,this.props.user.phone)),React.createElement("div",{className:"col col-lg-6"},React.createElement("p",null,this.props.user.address_st1,", ",this.props.user.address_st2),React.createElement("p",null,this.props.user.address_city,", ",this.props.user.address_state," ",this.props.user.address_zip),React.createElement("p",null,React.createElement("a",{href:this.props.user.website,target:"_blank"},this.props.user.website)))),this.showStatement(),React.createElement("div",{className:"section financials clearfix"},React.createElement("h3",null,"Financial Details"),React.createElement("h4",null,"TAOE: ",e),React.createElement("p",null,React.createElement("strong",null,"Operating Budget:")," ",React.createElement("a",{href:this.props.certification.file_budget,target:"_blank"},this.props.certification.file_budget)),React.createElement("p",null,React.createElement("strong",null,"Form 990:")," ",React.createElement("a",{href:this.props.certification.file_990,target:"_blank"},this.props.certification.file_990)),React.createElement("p",null,React.createElement("strong",null,"501c3:")," ",React.createElement("a",{href:this.props.user.file_501c3,target:"_blank"},this.props.user.file_501c3)),React.createElement("p",null,React.createElement("strong",null,"Contract Template:")," ",React.createElement("a",{href:this.props.user.file_contract,target:"_blank"},this.props.certification.file_contract))),a,s)}}),CertificationFinancials=React.createClass({displayName:"CertificationFinancials",getInitialState:function(){return{certification:this.props.certification,user:this.props.user,certifications:this.props.certifications,signature:null,isFuture:!0,isPast:!1,isProgress:!1,newUser:!1,errors:{}}},componentDidMount:function(){null!=this.props.getYearStatus().future&&this.setState({isFuture:this.props.getYearStatus().future}),null!=this.props.getYearStatus().past&&this.setState({isPast:this.props.getYearStatus().past}),null!=this.props.getYearStatus().progress&&this.setState({isProgress:this.props.getYearStatus().progress}),null!=this.props.getYearStatus().newUser&&this.setState({newUser:this.props.getYearStatus().newUser})},hasOperatingExpenses:function(){return this.props.certification?this.props.certification.operating_expenses:""},clearFile:function(t){var e=this.state.certification;e[t.target.id]=null,this.setState({certification:e}),this.props.handleCertificationUpdate(this.state.certification)},handleOperatingExpensesChange:function(t){var e=this.state.certification;e.operating_expenses=t.target.value,this.setState({certification:e}),this.props.handleCertificationUpdate(this.state.certification)},getSignature:function(t,e){function a(){return $.ajax({url:"/upload.json",dataType:"json"})}$.when(a()).done(function(a){e(t,a.data)}.bind(this))},uploadFile:function(t,e){var a=this,s=$(t.target),i=$("#"+t.target.id+" .bar");s.fileupload({fileInput:s,url:e.url,type:"POST",autoUpload:!0,formData:e["form-data"],paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(t,e){var a=parseInt(e.loaded/e.total*100,10);i.css("width",a+"%")},start:function(){i.css("background","lime").css("display","block").css("width","1%").text("Loading...")},done:function(t,e){i.text("Upload complete");var n=($(e.jqXHR.responseXML).find("Key").text(),$(e.jqXHR.responseXML).find("Location").text());$("<input />",{type:"hidden",name:s.attr("name"),value:n});if("file_501c3"!=t.target.id){var r=a.state.certification;r[t.target.id]=n,a.setState({certification:r}),a.props.handleCertificationUpdate(this.state.certification)}else{var c=a.state.user;c[t.target.id]=n,a.setState({user:c}),a.props.handleUserUpdate(this.state.user)}a.props.canSubmit()}.bind(this),fail:function(){console.log("fail"),i.css("background","red").text("Failed")}})},handleFileChange:function(t){target=$(t.target),this.getSignature(t,this.uploadFile)},hasFile:function(t){if(this.state.certification[t])var e=React.createElement("p",{className:"form-control"},React.createElement("button",{id:t,onClick:this.clearFile},"Replace")," ",this.state.certification[t]);else var e=React.createElement("div",{className:"directUpload"},React.createElement("input",{value:"",type:"file",className:"form-control",id:t,onChange:this.handleFileChange}),React.createElement("div",{id:t,className:"progress"},React.createElement("div",{className:"bar"})));return e},hasFile_501c3:function(){var t;return this.state.newUser&&this.state.user.file_501c3?t=React.createElement("div",{className:"form-item"},React.createElement("h4",null,"501c3"),React.createElement("p",null,"Your 501c3 letter of determination or, if you are fiscally sponsored, documentation of sponsorship."),React.createElement("p",{className:"form-control"},React.createElement("button",{onClick:this.clearFile_501c3},"Replace")," ",this.state.user.file_501c3),React.createElement("span",{style:{color:"red"}},this.state.errors.file_501c3)):this.state.newUser&&(t=React.createElement("div",{className:"form-item"},React.createElement("h4",null,"501c3"),React.createElement("p",null,"Your 501c3 letter of determination or, if you are fiscally sponsored, documentation of sponsorship."),this.hasFile("file_501c3"),React.createElement("span",{style:{color:"red"}},this.state.errors.file_501c3))),t},hasFile_990:function(){var t,e;return this.state.newUser?e=React.createElement("small",null," * Most recent if available"):React.createElement("small",null," * if available"),(this.state.newUser||this.state.isPast)&&(t=React.createElement("div",{className:"form-item"},React.createElement("h4",null,"Form 990",e),this.hasFile("file_990"),React.createElement("div",{className:"helper"},React.createElement("span",{style:{color:"red"}},this.state.errors.file_990)))),t},render:function(){if(this.state.isFuture)var t="Anticipated total";else var t="Total";return React.createElement("form",{id:"financials",className:"form col-xs-12"},React.createElement("div",{className:"form-item"},React.createElement("h4",{className:"col"},"Operating Expenses"),React.createElement("p",null,t," annual expenses for fiscal year ",moment(this.state.certification.fiscal_end).format("Y"),"."),React.createElement("div",{className:"input-group"},React.createElement("div",{className:"input-group-addon"},"$"),React.createElement("input",{value:this.hasOperatingExpenses(),type:"text",className:"form-control",onChange:this.handleOperatingExpensesChange}),React.createElement("div",{className:"input-group-addon"},".00")),React.createElement("div",{className:"helper"},React.createElement("span",{style:{color:"red"}},this.state.errors.operating_expenses))),React.createElement("div",{className:"form-item"},React.createElement("h4",null,"Operating Budget"),React.createElement("p",null,"A closed out budget for fiscal year ",moment(this.state.certification.fiscal_end).format("Y")," with \u2018Artist Fees\u2019 as a distinct line item."),this.hasFile("file_budget"),React.createElement("span",{style:{color:"red"}},this.state.errors.file_budget)),this.hasFile_990(),React.createElement("div",{className:"form-item"},React.createElement("h4",null,"Sample Contracts"),React.createElement("p",null,"Optional: A PDF of templates for any contracts used with artists."),this.hasFile("file_contract"),React.createElement("div",{className:"helper"},React.createElement("span",{style:{color:"red"}},this.state.errors.file_contract))),this.hasFile_501c3())}}),CertificationMenu=React.createClass({displayName:"CertificationMenu",setContentState:function(t){this.props.setContentState(t)},getYearStatus:function(){var t=this.props.getYearStatus();return t},setMenuItems:function(){var t,e=["guidelines","financials","artist_payments","review"];return this.getYearStatus().future&&(t=e.map(function(t){})),t},render:function(){return React.createElement("h6",{className:"status"},this.setMenuItems()[0])}}),Certifications=React.createClass({displayName:"Certifications",getInitialState:function(){return{certifications:this.props.certifications,user:this.props.user,errors:{}}},addCertification:function(t){var e=this;$.ajax({method:"POST",data:{certification:t},url:"/certifications.json",success:function(t){window.location.pathname="/certifications/"+t.id},error:function(t){e.setState({errors:t.responseJSON.errors})}})},handleDeleteCertification:function(){console.log("here")},render:function(){var t=this;return certifications=this.props.certifications.map(function(e){return React.createElement(Certification,{certification:e,key:e.id,onDeleteCertification:t.handleDeleteCertification})}),React.createElement("div",{id:"certifications"},React.createElement(CertificationNew,{user:this.props.user,certifications:this.props.certifications,addCertification:this.addCertification}),certifications)}}),CertificationNew=React.createClass({displayName:"CertificationNew",getInitialState:function(){if(this.yearOptions().length>0)var t=!0;else var t=!1;return{certification:{fiscal_start:this.props.user.fiscal_start,fiscal_end:this.props.user.fiscal_end,user_id:this.props.user.id,status:0},s_m:moment(this.props.user.fiscal_start).format("M"),s_d:moment(this.props.user.fiscal_start).format("D"),s_y:moment(this.props.user.fiscal_start).format("Y"),e_m:moment(this.props.user.fiscal_end).format("M"),e_d:moment(this.props.user.fiscal_end).format("D"),e_y:moment(this.props.user.fiscal_end).format("Y"),disabled:!0,canDisplay:t,errors:{}}},yearOptions:function(){for(var t=new Date,e=[],a=2014;a<=t.getFullYear()+1;a++)e.push(a);return this.props.certifications.map(function(t){var a=parseInt(moment(t.fiscal_end).format("Y"));e=e.filter(function(t){return t!==a})}),e.sort(function(t,e){return e-t})},handleYearChange:function(t){if("default"!=t.target.value){var e=moment(this.state.certification.fiscal_end).format("Y"),a=moment(this.state.certification.fiscal_start).format("Y"),s=this.state.certification;if(parseInt(e)>parseInt(t.target.value))var i=parseInt(e)-parseInt(t.target.value),n=parseInt(e)-i;if(moment(s.fiscal_start).format("Y")==moment(s.fiscal_end).format("Y"))s.fiscal_start=s.fiscal_start.replace(e,n);else{var r=parseInt(a)-i;s.fiscal_start=s.fiscal_start.replace(a,r)}s.fiscal_end=s.fiscal_end.replace(e,n),this.setState({certification:s,disabled:!this.state.disabled})}},handleAddCertification:function(){this.props.addCertification(this.state.certification)},render:function(){var t=this.yearOptions(),e=t.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:t},t)});return 1==this.state.canDisplay?React.createElement("div",{className:"new"},React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text",className:"form-control",value:this.state.e_y,onChange:this.handleYearChange,defaultValue:"default"},React.createElement("option",{className:"default",value:"default"},"Choose Year"),e),React.createElement("button",{className:"btn",disabled:this.state.disabled,onClick:this.handleAddCertification},React.createElement("i",{className:"fa fa-plus"})," New"))):React.createElement("span",null)}}),Dashboard=React.createClass({displayName:"Dashboard",getInitialState:function(){return{certifications:this.props.certifications,fee_categories:this.props.fee_categories,user:this.props.user,errors:{}}},render:function(){return React.createElement("div",{id:"dashboard"},React.createElement("div",{id:"certifications",className:"container"},React.createElement("div",{className:"title collapse"},React.createElement("h1",null,React.createElement("span",null,"Certifications"))),React.createElement("div",{className:"collapse-content"},React.createElement("h4",{className:"th"},React.createElement("span",null,"Fiscal Year"),React.createElement("span",null,"Application Status"),React.createElement("span",null,"Last Updated")),React.createElement(Certifications,{certifications:this.state.certifications,user:this.state.user}))),React.createElement("div",{id:"fee-schedule",className:"container"},React.createElement("div",{className:"title collapse"},React.createElement("h1",null,React.createElement("span",null,"My Fee Schedule"))),React.createElement("div",{className:"collapse-content"},React.createElement(FeeSchedule,{fee_categories:this.props.fee_categories,floor_categories:this.props.fee_categories,user:this.state.user,certification:this.state.certifications[0]}))))}}),FeeCategory=React.createClass({displayName:"FeeCategory",getInitialState:function(){return{fee_category:this.props.fee_category,editMode:!1,errors:{}}},setEditMode:function(){this.setState({editMode:!0})},handleNameChange:function(t){var e=this.state.fee_category;e.name=t.target.value,this.setState({fee_category:e})},handleFloorFeeChange:function(t){var e=this.state.fee_category;e.floor_fee=t.target.value,this.setState({fee_category:e})},handleDescriptionChange:function(t){var e=this.state.fee_category;e.description=t.target.value,this.setState({fee_category:e})},toggleDescriptionStatus:function(){var t=this.state.fee_category;t.description=!this.state.fee_category.description,this.handleFeeCategoryUpdate()},handleFeeCategoryUpdate:function(){var t=this;$.ajax({method:"PUT",data:{fee_category:t.state.fee_category},url:"/fee_categories/"+t.state.fee_category.id+".json",success:function(e){t.setState({errors:{},fee_category:e,editMode:!1})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},handleFeeCategoryDelete:function(){var t=this;$.ajax({method:"DELETE",url:"/fee_categories/"+t.state.fee_category.id+".json",success:function(){t.props.onDeleteFeeCategory(t.state.fee_category)}})},render:function(){return this.state.editMode?markup=React.createElement("tr",null,React.createElement("td",null,React.createElement("input",{type:"text",value:this.state.fee_category.name,onChange:this.handleNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.name)),React.createElement("td",null,React.createElement("input",{type:"text",value:this.state.fee_category.floor_fee,onChange:this.handleFloorFeeChange}),React.createElement("br",null),React.createElement("span",{style:{color:"red"}},this.state.errors.floor_fee)),React.createElement("td",null,React.createElement("textarea",{value:this.state.fee_category.description,onChange:this.handleDescriptionChange}),React.createElement("br",null),React.createElement("span",{style:{color:"red"}},this.state.errors.description)),React.createElement("td",null,React.createElement("button",{onClick:this.handleFeeCategoryUpdate},"Save"),React.createElement("button",{onClick:this.handleFeeCategoryDelete,style:{color:"red"}},"Delete"))):markup=React.createElement("tr",null,React.createElement("td",null,this.state.fee_category.name),React.createElement("td",null,this.state.fee_category.floor_fee),React.createElement("td",null,this.state.fee_category.description),React.createElement("td",null,React.createElement("button",{onClick:this.setEditMode},"Edit"))),markup}}),FeeCategories=React.createClass({displayName:"FeeCategories",getInitialState:function(){return{fee_categories:this.props.fee_categories,fee_category:{name:""},errors:{}}},handleNameChange:function(t){var e=this.state.fee_category;e.name=t.target.value,this.setState({fee_category:e})},handleFloorFeeChange:function(t){var e=this.state.fee_category;e.floor_fee=t.target.value,this.setState({fee_category:e})},handleDescriptionChange:function(t){var e=this.state.fee_category;e.description=t.target.value,this.setState({fee_category:e})},handleNewFeeCategory:function(){var t=this;$.ajax({method:"POST",data:{fee_category:t.state.fee_category},url:"/fee_categories.json",success:function(e){var a=t.state.fee_categories;a.push(e),t.setState({fee_categories:a,fee_category:{name:"",floor_fee:"",description:!1},errors:{}})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},handleDeleteFeeCategory:function(t){var e=this.state.fee_categories.filter(function(e){return t.id!==e.id});this.setState({fee_categories:e})},render:function(){return fee_categories=this.state.fee_categories.map(function(t){return React.createElement(FeeCategory,{fee_category:t,key:t.id})}),React.createElement("div",null,React.createElement("h1",null,"Fee Categories"),React.createElement("div",{id:"fee_categories"},React.createElement("table",{className:"table-responsive table-striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Floor Fee"),React.createElement("th",null,"Description"))),React.createElement("tbody",null,fee_categories,React.createElement("tr",null,React.createElement("td",null,React.createElement("input",{type:"text",value:this.state.fee_category.name,onChange:this.handleNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.name)),React.createElement("td",null,React.createElement("input",{value:this.state.fee_category.floor_fee,type:"text"}),React.createElement("span",{style:{color:"red"}},this.state.errors.floor_fee)),React.createElement("td",null,React.createElement("button",{onClick:this.handleAddFeeCategory},"Add")))))))}}),FeeSchedule=React.createClass({displayName:"FeeSchedule",getInitialState:function(){return{fee_categories:this.props.fee_categories,certification:null}},componentWillMount:function(){this.props.certification?this.setState({certification:this.props.certification}):this.setState({certification:{operating_expenses:5e5}})},render:function(){var t,e=this.state.fee_categories.map(function(t){var e=Number(t.floor_fee).toLocaleString(),a=Number(this.state.certification.operating_expenses*Number(t.over500K)).toLocaleString(),s=t.fee_subtitle;if(a>e)var i=React.createElement("span",{className:"wide"},React.createElement("span",{className:"floor"},"$",e),React.createElement("span",null,"$",a," ",s));else var i=React.createElement("span",null,React.createElement("span",null,"$",e,s));return React.createElement("div",{key:t.id,className:"fee-category"},React.createElement("h4",null,React.createElement("span",{className:"title"},t.name),i),React.createElement("div",{className:"description"},t.description))},this);if(this.state.certification.operating_expenses)if(t="TAOE: $"+Number(this.state.certification.operating_expenses).toLocaleString(),this.state.certification.operating_expenses<=5e5)var a=React.createElement("span",null,"Floor Wage");else var a=React.createElement("span",{className:"wide"},React.createElement("span",{className:"floor"},"Floor Wage"),React.createElement("span",null,"Minimum Wage"));return React.createElement("div",{id:"fee-schedule"},React.createElement("div",{id:"schedule-table"},React.createElement("div",null,React.createElement("div",{className:"fee-category header"},React.createElement("h4",null,React.createElement("div",{className:"title"},React.createElement("span",null,"Fee Category"),React.createElement("span",null,t)),a)),e)))}}),FeeScheduleRoot=React.createClass({displayName:"FeeScheduleRoot",getInitialState:function(){return{fee_categories:this.props.fee_categories,floor_categories:this.props.floor_categories}},componentDidMount:function(){if(this.props.certification.operating_expenses>5e5&&this.props.certification.operating_expenses<15e6){var t=this.getMyFeeSchedule();this.setUpdatedFees(t)}else this.setState({fee_categories:this.props.fee_categories})},getMyFeeSchedule:function(){var t=this.props.certification.operating_expenses,e=[.002*t,.0012*t,.001*t,5e-4*t,3e-4*t,6e-4*t,.0012*t,2e-4*t,2e-4*t,3e-4*t,5e-4*t,50,.25,20];return e},setUpdatedFees:function(t){var t=t,e=t.map(function(t,e){var a=this.state.fee_categories[e];return a.floor_fee=t,a},this);this.setState({fee_categories:e})},render:function(){var t=this.state.fee_categories.map(function(t){var e="$"+Number(t.floor_fee).toLocaleString()+t.fee_subtitle;return React.createElement("div",{key:t.id,className:"fee-category"},React.createElement("h4",null,React.createElement("span",null,t.name),React.createElement("span",null,e)),React.createElement("div",{className:"description"},t.description))},this);return React.createElement("div",{id:"fee-schedule"},React.createElement("div",null,React.createElement("div",{className:"fee-category header"},React.createElement("h4",null,React.createElement("span",null,"Fee Category"),React.createElement("span",null,React.createElement("span",null,"Minimum Fee: "),React.createElement("span",null,"Wage Floor")))),t))}}),FeeCategoryRow=React.createClass({displayName:"FeeCategoryRow",render:function(){return React.createElement("div",null,this.props.fee_category.name)}}),MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],YEAR=(new Date).getFullYear(),FiscalDates=React.createClass({displayName:"FiscalDates",getInitialState:function(){return{user:this.props.user,certification:this.hasCertifications(),s_m:this.getEditDates().s_m,s_d:this.getEditDates().s_d,s_y:YEAR.toString(),e_m:this.getEditDates().e_m,e_d:this.getEditDates().e_d,e_y:YEAR.toString(),errors:{}}},hasCertifications:function(){return this.props.certification&&this.props.certification.fiscal_start?this.props.certification:{fiscal_start:"",fiscal_end:"",user_id:this.props.user.id,status:0}},getEditDates:function(){return""!=this.props.certification.fiscal_start&&null!=this.props.certification.fiscal_start?{s_m:moment(this.props.certification.fiscal_start).format("M"),s_d:moment(this.props.certification.fiscal_start).format("D"),s_y:moment(this.props.certification.fiscal_start).format("Y"),e_m:moment(this.props.certification.fiscal_end).format("M"),e_d:moment(this.props.certification.fiscal_end).format("D"),e_y:moment(this.props.certification.fiscal_end).format("Y")}:{s_m:"1",s_d:"1",s_y:YEAR.toString(),e_m:"12",e_d:"31",e_y:YEAR.toString()}},handleFiscalStartChange:function(t){var e=$(t.target).data("id");this.setState(_defineProperty({},e,t.target.value));var a=this.state;a[e]=t.target.value,this.autoSetEnd(a)},handleFiscalEndChange:function(t){var e=$(t.target).data("id");this.setState(_defineProperty({},e,t.target.value));var a=this.state;a[e]=t.target.value,this.autoSetStart(a)},autoSetEnd:function(t){var e=moment(YEAR+"-"+t.s_m+"-"+t.s_d);e.add(1,"year"),e.subtract(1,"day"),this.setState({e_m:e.format("M"),e_d:e.format("D"),e_y:e.format("Y")})},autoSetStart:function(t){var e=moment(YEAR+"-"+t.e_m+"-"+t.e_d);e.subtract(1,"year"),e.add(1,"day"),this.setState({s_m:e.format("M"),s_d:e.format("D")})},FormatDates:function(){var t=this.state.s_y+"-"+this.state.s_m+"-"+this.state.s_d,e=this.state.e_y+"-"+this.state.e_m+"-"+this.state.e_d;return{fiscal_start:t,fiscal_end:e}},handleFormatDates:function(){var t=this.FormatDates().fiscal_start,e=this.FormatDates().fiscal_end,a=this.state.certification,s=this.state.user;return s.fiscal_start=t,s.fiscal_end=e,a.fiscal_start=t,a.fiscal_end=e,this.setState({certification:a,user:s}),{certification:a,user:s}},handleUserUpdate:function(){var t=this.handleFormatDates().user;this.props.handleUserUpdate(t),this.setState({errors:{}}),null!=this.state.certification.id?(this.props.handleCertificationUpdate(this.handleFormatDates().certification),this.props.toggleEditDates()):this.props.handleFirstCertification&&this.props.handleFirstCertification()},getDays:function(){var t=[1,3,5,7,8,10,12],e=[4,6,9,11];if(t.includes(parseInt(this.state.s_m)))var a=31;else if(e.includes(parseInt(this.state.s_m)))var a=30;else var a=28;if(t.includes(parseInt(this.state.e_m)))var s=31;else if(e.includes(parseInt(this.state.e_m)))var s=30;else var s=28;return{s_d:a,e_d:s}},render:function(){var t=MONTHS.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:a},t)}),e=[].concat(_toConsumableArray(Array(this.getDays().s_d).keys())),a=[].concat(_toConsumableArray(Array(this.getDays().e_d).keys())),s=e.map(function(t){var e=t+1;return React.createElement("option",{key:e,value:e},e)}),i=a.map(function(t){var e=t+1;return React.createElement("option",{key:e,value:e},e)}),n=React.createElement("div",{id:"actions"},React.createElement("button",{className:"btn btn-lg save",onClick:this.handleUserUpdate},"Save")),r=React.createElement("button",{className:"btn btn-sm edit",onClick:this.props.toggleEditDates},"Edit");if(this.props.editDates)var c=n;else var c=r;var o=React.createElement("div",{className:"form"},React.createElement("div",{className:"col col-sm-6"},React.createElement("h4",null,"Fiscal Period Start"),React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text","data-id":"s_m",className:"form-control",value:this.state.s_m,onChange:this.handleFiscalStartChange},t),React.createElement("select",{type:"text","data-id":"s_d",className:"form-control",value:this.state.s_d,onChange:this.handleFiscalStartChange},s))),React.createElement("div",{className:"col col-sm-6"},React.createElement("h4",null,"Fiscal Period End"),React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text","data-id":"e_m",className:"form-control",value:this.state.e_m,onChange:this.handleFiscalEndChange},t),React.createElement("select",{type:"text","data-id":"e_d",className:"form-control",value:this.state.e_d,onChange:this.handleFiscalEndChange},i))),c),l=React.createElement("h4",{className:"saved-dates"},c);if(this.props.editDates)var u=o;else var u=l;return React.createElement("div",{id:"fiscal-dates"},u)}}),STATES=["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],NewUserContact=React.createClass({displayName:"NewUserContact",getInitialState:function(){return{user:this.props.user,errors:{}}},handleRepNameChange:function(t){var e=this.state.user;e.rep_name=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleRepTitleChange:function(t){var e=this.state.user;e.rep_title=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleEmailChange:function(t){var e=this.state.user;e.email=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handlePhoneChange:function(t){var e=this.state.user;e.phone=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleWebsiteChange:function(t){var e=this.state.user;e.website=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleAd1Change:function(t){var e=this.state.user;e.address_st1=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleAd2Change:function(t){var e=this.state.user;e.address_st2=t.target.value,this.setState({user:e}),this.handleUserUpdate();
},handleAdCityChange:function(t){var e=this.state.user;e.address_city=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleAdStateChange:function(t){var e=this.state.user;e.address_state=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleAdZipChange:function(t){var e=this.state.user;e.address_zip=t.target.value,this.setState({user:e}),this.handleUserUpdate()},handleUserUpdate:function(){var t=this;$.ajax({method:"PUT",data:{user:t.state.user},url:"/users.json",success:function(){t.setState({disabled:!0,errors:{}})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},contactForm:function(){var t=React.createElement("div",{className:"form"},React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col col-xs-3"},"Your Name"),React.createElement("div",{className:"col col-xs-9"},React.createElement("input",{type:"text",placeholder:"First Last",name:"rep_name",className:"form-control",value:this.state.user.rep_name,onChange:this.handleRepNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.rep_name))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col col-xs-3"},"Your Title"),React.createElement("div",{className:"col col-xs-9"},React.createElement("input",{type:"text",placeholder:"Development Director",name:"rep_title",className:"form-control",value:this.state.user.rep_title,onChange:this.handleRepTitleChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.rep_name))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col col-xs-3"},"Phone"),React.createElement("div",{className:"col col-xs-9"},React.createElement("input",{type:"phone",placeholder:"phone",name:"phone",className:"form-control",value:this.state.user.phone,onChange:this.handlePhoneChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.phone))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col col-xs-3"},"Website"),React.createElement("div",{className:"col col-xs-9"},React.createElement("input",{type:"url",placeholder:"http://example.org",name:"website",className:"form-control",value:this.state.user.website,onChange:this.handleWebsiteChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.website))));return t},addressForm:function(){var t=STATES.map(function(t,e){return React.createElement("option",{key:e,value:t},t)}),e=React.createElement("div",{key:"contact"},React.createElement("div",{className:"form"},React.createElement("h4",{className:"col col-xs-12"},"Mailing Address"),React.createElement("div",{className:"field-group"},React.createElement("div",{className:"col col-sm-8"},React.createElement("input",{type:"text",placeholder:"Street Address",name:"address_st1",className:"form-control",value:this.state.user.address_st1,onChange:this.handleAd1Change}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_st1)),React.createElement("div",{className:"col-sm-4"},React.createElement("input",{type:"text",name:"address_st2",placeholder:"APT/Floor",className:"form-control",value:this.state.user.address_st2,onChange:this.handleAd2Change}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_st2))),React.createElement("div",{className:"field-group"},React.createElement("div",{className:"col col-sm-6"},React.createElement("input",{type:"text",name:"address_city",placeholder:"City",className:"form-control",value:this.state.user.address_city,onChange:this.handleAdCityChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_city)),React.createElement("div",{className:"col-sm-2"},React.createElement("select",{className:"form-control",name:"address_state",value:this.state.user.address_state,onChange:this.handleAdStateChange},t)),React.createElement("div",{className:"col-sm-4"},React.createElement("input",{type:"text",name:"address_zip",placeholder:"Zip",className:"form-control",value:this.state.user.address_zip,onChange:this.handleAdZipChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_zip)))));return e},render:function(){React.createElement("span",null,this.state.user.address_st2?", "+this.state.user.address_st2:"");return React.createElement("div",{id:"contact",className:"contact"},this.contactForm(),this.addressForm())}}),MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today=new Date,YEARS=[moment(today).format("Y"),moment(today).add(1,"years").format("Y")],NewFiscalDates=React.createClass({displayName:"NewFiscalDates",getInitialState:function(){return{user:this.props.user,certification:this.hasCertifications(),s_m:this.getEditDates().s_m,s_d:this.getEditDates().s_d,s_y:this.getEditDates().s_y,e_m:this.getEditDates().e_m,e_d:this.getEditDates().e_d,e_y:this.getEditDates().e_y,errors:{}}},hasCertifications:function(){return this.props.certification&&this.props.certification.fiscal_start?this.props.certification:{fiscal_start:"",fiscal_end:"",user_id:this.props.user.id,status:0}},getEditDates:function(){return this.props.certification&&""!=this.props.certification.fiscal_start&&null!=this.props.certification.fiscal_start?{s_m:moment(this.props.certification.fiscal_start).format("M"),s_d:moment(this.props.certification.fiscal_start).format("D"),s_y:moment(this.props.certification.fiscal_start).format("Y"),e_m:moment(this.props.certification.fiscal_end).format("M"),e_d:moment(this.props.certification.fiscal_end).format("D"),e_y:moment(this.props.certification.fiscal_end).format("Y")}:{s_m:"1",s_d:"1",s_y:moment(new Date).format("Y"),e_m:"12",e_d:"31",e_y:moment(new Date).format("Y")}},getYears:function(){function t(t,e,a){return a.indexOf(t)===e}var e=YEARS;if(moment(this.state.s_y+"-"+this.state.s_m+"-"+this.state.s_d).format()>moment(today).add(90,"days").format()){var a=e.indexOf(this.state.s_y);a>-1&&e.splice(a,1)}else if(moment(parseInt(this.state.s_y)+1+"-"+this.state.s_m+"-"+this.state.s_d).format()>moment(today).add(90,"days").format()){var a=e.indexOf(this.state.s_y);a>-1&&e.splice(a,1)}var s=YEARS.filter(t);return moment(this.FormatDates().fiscal_end)<moment(today)&&(s=s.pop(moment(this.FormatDates().fiscal_end).format("Y"))),s},handleFiscalStartChange:function(t){var e=$(t.target).data("id");this.setState(_defineProperty({},e,t.target.value));var a=this.state;a[e]=t.target.value,this.autoSetEnd(a)},handleFiscalEndChange:function(t){var e=$(t.target).data("id");this.setState(_defineProperty({},e,t.target.value));var a=this.state;a[e]=t.target.value,this.autoSetStart(a)},autoSetEnd:function(t){var e=moment(t.s_y+"-"+t.s_m+"-"+t.s_d);e.add(1,"year"),e.subtract(1,"day"),this.setState({e_m:e.format("M"),e_d:e.format("D"),e_y:e.format("Y")}),this.getYears()},autoSetStart:function(t){var e=moment(t.e_y+"-"+t.e_m+"-"+t.e_d);e.subtract(1,"year"),e.add(1,"day"),this.setState({s_m:e.format("M"),s_d:e.format("D"),s_y:e.format("Y")})},FormatDates:function(){var t=this.state.s_y+"-"+this.state.s_m+"-"+this.state.s_d,e=this.state.e_y+"-"+this.state.e_m+"-"+this.state.e_d;return{fiscal_start:t,fiscal_end:e}},handleFormatDates:function(){var t=this.FormatDates().fiscal_start,e=this.FormatDates().fiscal_end,a=this.state.certification,s=this.state.user;return s.fiscal_start=t,s.fiscal_end=e,a.fiscal_start=t,a.fiscal_end=e,this.setState({certification:a,user:s}),{certification:a,user:s}},handleUserUpdate:function(){var t=this.handleFormatDates().user;this.props.handleUserUpdate(t),this.setState({errors:{}}),null!=this.state.certification.id?(this.props.handleCertificationUpdate(this.handleFormatDates().certification),this.props.toggleEditDates()):this.props.handleAddCertification&&this.props.handleAddCertification(this.state.certification)},getDays:function(){var t=[1,3,5,7,8,10,12],e=[4,6,9,11];if(t.includes(parseInt(this.state.s_m)))var a=31;else if(e.includes(parseInt(this.state.s_m)))var a=30;else var a=28;if(t.includes(parseInt(this.state.e_m)))var s=31;else if(e.includes(parseInt(this.state.e_m)))var s=30;else var s=28;return{s_d:a,e_d:s}},handleYearChange:function(t){var e=moment(this.state.certification.fiscal_end).format("Y"),a=moment(this.state.certification.fiscal_start).format("Y"),s=this.state.certification;if(e!=t.target.value){var i=parseInt(t.target.value)-parseInt(e);if(moment(s.fiscal_start).format("Y")==moment(s.fiscal_end).format("Y"))s.fiscal_start=s.fiscal_start.replace(e,t.target.value);else{var n=parseInt(a)+i;s.fiscal_start=s.fiscal_start.replace(a,n)}s.fiscal_end=s.fiscal_end.replace(e,t.target.value),this.setState({certification:s})}},render:function(){var t=MONTHS.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:a},t)}),e=[].concat(_toConsumableArray(Array(this.getDays().s_d).keys())),a=[].concat(_toConsumableArray(Array(this.getDays().e_d).keys())),s=this.getYears(),i=e.map(function(t){var e=t+1;return React.createElement("option",{key:e,value:e},e)}),n=a.map(function(t){var e=t+1;return React.createElement("option",{key:e,value:e},e)}),r=s.map(function(t){return React.createElement("option",{key:t,value:t},t)}),c=React.createElement("div",{id:"actions"},React.createElement("button",{className:"btn btn-lg save",onClick:this.handleUserUpdate},"Save")),o=React.createElement("button",{className:"btn btn-sm edit",onClick:this.props.toggleEditDates},"Edit");if(this.props.editDates)var l=c;else var l=o;var u=React.createElement("div",{className:"form"},React.createElement("div",{className:"col col-sm-6"},React.createElement("h4",null,"Fiscal Period Start"),React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text","data-id":"s_m",className:"form-control",value:this.state.s_m,onChange:this.handleFiscalStartChange},t),React.createElement("select",{type:"text","data-id":"s_d",className:"form-control",value:this.state.s_d,onChange:this.handleFiscalStartChange},i))),React.createElement("div",{className:"col col-sm-6"},React.createElement("h4",null,"Fiscal Period End"),React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text","data-id":"e_m",className:"form-control",value:this.state.e_m,onChange:this.handleFiscalEndChange},t),React.createElement("select",{type:"text","data-id":"e_d",className:"form-control",value:this.state.e_d,onChange:this.handleFiscalEndChange},n),React.createElement("select",{type:"text","data-id":"e_y",className:"form-control",value:this.state.e_y,onChange:this.handleFiscalEndChange},r))),l),m=React.createElement("h4",{className:"saved-dates"},React.createElement("span",null,"FY: ",this.props.formatDates())," ",l);if(this.props.editDates)var h=u;else var h=m;return React.createElement("div",{id:"fiscal-dates"},h)}}),NewCertificationYear=React.createClass({displayName:"NewCertificationYear",getInitialState:function(){return{certification:{fiscal_start:this.props.user.fiscal_start,fiscal_end:this.props.user.fiscal_end,user_id:this.props.user.id,status:0},e_y:moment(this.props.user.fiscal_end).format("Y"),errors:{}}},handleYearChange:function(t){var e=moment(this.state.certification.fiscal_end).format("Y"),a=moment(this.state.certification.fiscal_start).format("Y"),s=this.state.certification;if(e!=t.target.value){var i=parseInt(t.target.value)-parseInt(e);if(moment(s.fiscal_start).format("Y")==moment(s.fiscal_end).format("Y"))s.fiscal_start=s.fiscal_start.replace(e,t.target.value);else{var n=parseInt(a)+i;s.fiscal_start=s.fiscal_start.replace(a,n)}s.fiscal_end=s.fiscal_end.replace(e,t.target.value),this.setState({certification:s})}},getYears:function(){var t=[],e=moment(new Date).format();return t.push(moment(this.props.user.fiscal_start).format("Y")),moment(this.props.user.fiscal_start).add(1,"years")<moment(e).add(91,"days")&&moment(this.props.user.fiscal_start).add(1,"years")!=moment(this.props.user.fiscal_start).format("Y")&&t.push(moment(this.props.user.fiscal_start).add(1,"years").format("Y")),t},handleAddCertification:function(){this.props.handleAddCertification(this.state.certification)},render:function(){var t=this.getYears(),e=t.map(function(t,e){var a=e+1;return React.createElement("option",{key:a,value:t},t)});return React.createElement("div",{className:"select-year"},React.createElement("h4",null,"Start my certification in year:"),React.createElement("div",{className:"field-group"},React.createElement("select",{type:"text",className:"form-control",value:moment(this.state.certification.fiscal_end).format("Y"),onChange:this.handleYearChange},e),React.createElement("button",{className:"btn",onClick:this.handleAddCertification},"Save")),React.createElement("h4",null,"You can select an upcoming year if it starts within 90 days."),React.createElement("h4",null,"You may apply for previous fiscal years after completing your first application."))}}),STATES=["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],UserContact=React.createClass({displayName:"UserContact",getInitialState:function(){return{user:this.props.user,errors:{}}},handleRepNameChange:function(t){var e=this.state.user;e.rep_name=t.target.value,this.setState({user:e})},handleRepTitleChange:function(t){var e=this.state.user;e.rep_title=t.target.value,this.setState({user:e})},handleEmailChange:function(t){var e=this.state.user;e.email=t.target.value,this.setState({user:e})},handlePhoneChange:function(t){var e=this.state.user;e.phone=t.target.value,this.setState({user:e})},handleWebsiteChange:function(t){var e=this.state.user;e.website=t.target.value,this.setState({user:e})},handleAd1Change:function(t){var e=this.state.user;e.address_st1=t.target.value,this.setState({user:e})},handleAd2Change:function(t){var e=this.state.user;e.address_st2=t.target.value,this.setState({user:e})},handleAdCityChange:function(t){var e=this.state.user;e.address_city=t.target.value,this.setState({user:e})},handleAdStateChange:function(t){var e=this.state.user;e.address_state=t.target.value,this.setState({user:e})},handleAdZipChange:function(t){var e=this.state.user;e.address_zip=t.target.value,this.setState({user:e})},handleUserUpdate:function(){var t=this;$.ajax({method:"PUT",data:{user:t.state.user},url:"/users.json",success:function(){t.setState({errors:{}})},error:function(e){t.setState({errors:e.responseJSON.errors})}})},contactForm:function(){var t=React.createElement("div",{className:"form"},React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col-xs-3"},"Your Name"),React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"text",placeholder:"First Last",name:"rep_name",className:"form-control",value:this.state.user.rep_name,onChange:this.handleRepNameChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.rep_name))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col-xs-3"},"Your Title"),React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"text",placeholder:"Development Director",name:"rep_title",className:"form-control",value:this.state.user.rep_title,onChange:this.handleRepTitleChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.rep_name))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col-xs-3"},"Email"),React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"email",placeholder:"email",name:"email",className:"form-control",value:this.state.user.email,onChange:this.handleEmailChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.email))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col-xs-3"},"Phone"),React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"phone",placeholder:"phone",name:"phone",className:"form-control",value:this.state.user.phone,onChange:this.handlePhoneChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.phone))),React.createElement("div",{className:"field-group"},React.createElement("h4",{className:"col-xs-3"},"Website"),React.createElement("div",{className:"col-xs-9"},React.createElement("input",{type:"url",placeholder:"http://example.org",name:"website",className:"form-control",value:this.state.user.website,onChange:this.handleWebsiteChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.website))));return t},addressForm:function(){var t=STATES.map(function(t,e){return React.createElement("option",{key:e,value:t},t)}),e=React.createElement("div",{key:"contact"},React.createElement("div",{className:"form"},React.createElement("h4",{className:"col-xs-12"},"Mailing Address"),React.createElement("div",{className:"field-group"},React.createElement("div",{className:"col-sm-8"},React.createElement("input",{type:"text",placeholder:"Street Address",name:"address_st1",className:"form-control",value:this.state.user.address_st1,onChange:this.handleAd1Change}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_st1)),React.createElement("div",{className:"col-sm-4"},React.createElement("input",{type:"text",name:"address_st2",placeholder:"APT/Floor",className:"form-control",value:this.state.user.address_st2,onChange:this.handleAd2Change}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_st2))),React.createElement("div",{className:"field-group"},React.createElement("div",{className:"col-sm-6"},React.createElement("input",{type:"text",name:"address_city",placeholder:"City",className:"form-control",value:this.state.user.address_city,onChange:this.handleCityChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_city)),React.createElement("div",{className:"col-sm-2"},React.createElement("select",{className:"form-control",name:"address_state",value:this.state.user.address_state,onChange:this.handleAdStateChange},t)),React.createElement("div",{className:"col-sm-4"},React.createElement("input",{type:"text",name:"address_zip",placeholder:"Zip",className:"form-control",value:this.state.user.address_zip,onChange:this.handleAdZipChange}),React.createElement("span",{style:{color:"red"}},this.state.errors.address_zip)))));return e},render:function(){React.createElement("span",null,this.state.user.address_st2?", "+this.state.user.address_st2:"");return React.createElement("div",{className:"contact"},this.contactForm(),this.addressForm())}}),UserStatement=React.createClass({displayName:"UserStatement",getInitialState:function(){return{user:this.props.user,errors:{}}},handleUserUpdate:function(t){var e=this;$.ajax({method:"PUT",data:{user:t},url:"/users.json",success:function(t){e.setState({user:t,errors:{}})},error:function(t){e.setState({errors:t.responseJSON.errors})}})},formStatement:function(){var t=React.createElement(StatementFile,{user:this.props.user,handleUserUpdate:this.handleUserUpdate});return t},render:function(){return React.createElement("div",{className:"statement"},this.formStatement())}}),StatementFile=React.createClass({displayName:"StatementFile",getInitialState:function(){return{user:this.props.user}},clearFile:function(t){var e=this.state.user;e[t.target.id]=null,this.setState({user:e}),this.props.handleUserUpdate(e)},getSignature:function(t,e){function a(){return $.ajax({url:"/upload.json",dataType:"json"})}$.when(a()).done(function(a){e(t,a.data)}.bind(this))},uploadFile:function(t,e){var a=this,s=$(t.target),i=$("#"+t.target.id+" .bar");s.fileupload({fileInput:s,url:e.url,type:"POST",autoUpload:!0,formData:e["form-data"],paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(t,e){var a=parseInt(e.loaded/e.total*100,10);i.css("width",a+"%")},start:function(){i.css("background","lime").css("display","block").css("width","1%").text("Loading...")},done:function(t,e){i.text("Upload complete");var n=($(e.jqXHR.responseXML).find("Key").text(),$(e.jqXHR.responseXML).find("Location").text()),r=($("<input />",{type:"hidden",name:s.attr("name"),value:n}),a.state.user);r[t.target.id]=n,a.setState({user:r}),a.props.handleUserUpdate(this.state.user)}.bind(this),fail:function(){console.log("fail"),i.css("background","red").text("Failed")}})},handleFileChange:function(t){target=$(t.target),this.getSignature(t,this.uploadFile)},hasFile:function(t){if(this.state.user[t])var e=React.createElement("div",{id:t,className:"file-uploaded"},React.createElement("button",{id:t,onClick:this.clearFile},"Replace")," ",this.state.user[t]);else var e=React.createElement("div",{id:t,className:"directUpload form-control"},React.createElement("input",{value:"",type:"file",id:t,onChange:this.handleFileChange}),React.createElement("div",{className:"progress"},React.createElement("div",{className:"bar"})));return e},render:function(){return React.createElement("div",null,React.createElement("h4",null,"Upload a letter on ",this.state.user.institution_name,"'s letterhead detailing your interest in W.A.G.E. Certification."),React.createElement("h4",null,"Please tell us how getting certified relates to your organization\u2019s mission and why you have chosen to pursue it."),this.hasFile("statement"))}});